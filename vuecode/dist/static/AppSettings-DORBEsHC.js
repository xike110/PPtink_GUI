import{_ as Xe,r as d,a as Ze,o as el,c as oe,w as ne,b as v,e as u,g as b,d as o,f as s,A as c,u as a,a8 as K,i as me,a7 as ve,m as _,S as F,a9 as se,aa as V,ab as C,ac as ie,t as x,C as w,ad as fe,ae as f,af as S,ag as ce,ah as ge,ai as ye,aj as g,ak as be,p as we,q as ue,al as ll,am as al,a1 as tl,F as ol,l as sl,R as ul,an as k,x as i}from"./zh-cn-C3gtzjIZ.js";const rl={class:"macos-window"},nl={class:"content-area"},il={class:"section-container"},dl={class:"settings-content"},pl={class:"settings-header"},ml={class:"tabs"},vl={key:0},fl={class:"settings-section"},cl={class:"switch"},gl={class:"settings-section"},yl={class:"switch"},bl={key:1,class:"startup-manage-section"},wl={key:0,class:"filter-container"},Vl={key:0,class:"filter-info"},kl={key:1,class:"startup-loading"},hl={class:"empty-placeholder"},Cl={key:1},Sl={key:2},Ul={key:3,class:"pagination-container"},Al={key:0,class:"formdata-error"},El={class:"dialog-footer"},Tl={class:"dialog-footer"},xl={key:2,class:"timed-manage-section"},$l={key:0,class:"filter-container"},zl={key:0,class:"filter-info"},Dl={key:1,class:"startup-loading"},Nl={class:"empty-placeholder"},Ol={key:1},Ml={key:2},_l={key:3,class:"pagination-container"},Fl={key:0,class:"formdata-error"},ql={class:"dialog-footer"},Jl={class:"dialog-footer"},Il={class:"timed-notice-container"},Ll={class:"timed-notice"},Pl={key:3,class:"help-section"},Bl={class:"faq-container"},Hl={class:"faq-question"},Yl={class:"faq-answer"},Rl={key:0,class:"faq-empty"},Ql={key:4,class:"about-section"},jl=["innerHTML"],Kl={__name:"AppSettings",setup(Gl){const G=ul("appConfig"),h=d("settings"),y=Ze({createShortcut:!1,autostart:!1,directoryPath:"未选择目录"}),W=d([]),X=d(!1),P=d(!1),p=d({}),de=d(null),q=d(!1),B=d(null),$=d(""),z=d(""),Z=d([]),ee=d(!1),H=d(!1),r=d({}),pe=d(null),J=d(!1),Y=d(null),D=d(""),N=d(""),R=d(""),Q=d(""),Ve={guiname:[{required:!0,message:"请输入应用名称",trigger:"blur"}],sign:[{required:!0,message:"请输入应用标识",trigger:"blur"}],main:[{required:!0,message:"请输入应用入口",trigger:"blur"}],menuname:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},ke={guiname:[{required:!0,message:"请输入应用名称",trigger:"blur"}],sign:[{required:!0,message:"请输入应用标识",trigger:"blur"}],main:[{required:!0,message:"请输入应用入口",trigger:"blur"}],menuname:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},le=async()=>{X.value=!0;try{if(!window.pywebview||!window.pywebview.api){console.error("pywebview API尚未初始化，无法加载启动应用"),X.value=!1;return}const l=await window.pywebview.api.getStartupApps();W.value=l||[],O.value=1}catch(l){console.error("加载启动应用列表出错:",l)}finally{X.value=!1}},he=async l=>{try{await window.pywebview.api.updateStartupApp({id:l.id,enabled:l.enabled})?n("成功","已更新启动状态","success"):(l.enabled=!l.enabled,n("错误","更新启动状态失败","error"))}catch(e){l.enabled=!l.enabled,console.error("更新启动状态出错:",e),n("错误",`更新启动状态出错: ${e}`,"error")}},Ce=async l=>{try{l.bkgrdstat&&(l.autoclose=!0),await window.pywebview.api.updateStartupApp({id:l.id,bkgrdstat:l.bkgrdstat,autoclose:l.autoclose})?n("成功","已更新后台运行状态","success"):(l.bkgrdstat=!l.bkgrdstat,l.bkgrdstat===!1||(l.autoclose=!1),n("错误","更新后台运行状态失败","error"))}catch(e){l.bkgrdstat=!l.bkgrdstat,l.bkgrdstat===!1||(l.autoclose=!1),console.error("更新后台运行状态出错:",e),n("错误",`更新后台运行状态出错: ${e}`,"error")}},Se=async l=>{try{await window.pywebview.api.updateStartupApp({id:l.id,autoclose:l.autoclose})?n("成功","已更新结束关闭状态","success"):(l.autoclose=!l.autoclose,n("错误","更新结束关闭状态失败","error"))}catch(e){l.autoclose=!l.autoclose,console.error("更新结束关闭状态出错:",e),n("错误",`更新结束关闭状态出错: ${e}`,"error")}},Ue=l=>{p.value=JSON.parse(JSON.stringify(l));try{p.value.formdata?$.value=JSON.stringify(p.value.formdata,null,2):$.value="{}",z.value=""}catch(e){console.error("转换formdata失败:",e),$.value="{}",z.value="原始数据格式无效，已重置为空对象"}P.value=!0},Ae=async()=>{try{try{if($.value.trim()){const e=JSON.parse($.value);p.value.formdata=e}else p.value.formdata={};z.value=""}catch(e){z.value="JSON格式无效，请检查语法",console.error("JSON解析错误:",e);return}await de.value.validate(),await window.pywebview.api.updateStartupApp(p.value)?(n("成功","已保存启动应用设置","success"),P.value=!1,await le()):n("错误","保存启动应用设置失败","error")}catch(l){console.error("保存启动应用设置出错:",l),typeof l=="string"&&n("错误",`保存启动应用设置出错: ${l}`,"error")}},Ee=l=>{B.value=l,q.value=!0},Te=async()=>{try{if(!B.value||!B.value.id)return;await window.pywebview.api.deleteStartupApp(B.value.id)?(n("成功","已删除启动应用","success"),q.value=!1,await le()):n("错误","删除启动应用失败","error")}catch(l){console.error("删除启动应用出错:",l),n("错误",`删除启动应用出错: ${l}`,"error")}finally{q.value=!1}},n=(l,e,t="info")=>{k({message:e,type:t==="danger"?"error":t,duration:t==="error"||t==="danger"?3e3:1500})};el(()=>{setTimeout(()=>{xe(),h.value==="startupManage"&&le()},500)});const j=l=>{h.value=l,l==="startupManage"&&le(),l==="timedManage"&&re()},xe=async()=>{try{if(!window.pywebview||!window.pywebview.api){console.error("pywebview API尚未初始化");return}const l=await window.pywebview.api.checkShortcutExists();y.createShortcut=l;const e=await window.pywebview.api.checkAutostartExists();y.autostart=e}catch(l){console.error("初始化设置时出错:",l)}},$e=async()=>{if(y.createShortcut)try{await window.pywebview.api.createShortcut()?k({message:"已成功创建桌面快捷方式!",type:"success",duration:1500}):(y.createShortcut=!1,k({message:"创建桌面快捷方式失败。",type:"error",duration:2e3}))}catch(l){console.error("创建桌面快捷方式时出错:",l),y.createShortcut=!1,k({message:"创建桌面快捷方式时出错: "+l,type:"error",duration:2e3})}else try{if(await window.pywebview.api.removeShortcut())k({message:"已成功删除桌面快捷方式!",type:"success",duration:1500});else{const e=await window.pywebview.api.checkShortcutExists();y.createShortcut=e,k({message:"删除桌面快捷方式失败。",type:"error",duration:2e3})}}catch(l){console.error("删除桌面快捷方式时出错:",l);const e=await window.pywebview.api.checkShortcutExists();y.createShortcut=e,k({message:"删除桌面快捷方式时出错: "+l,type:"error",duration:2e3})}},ze=async()=>{if(y.autostart)try{await window.pywebview.api.setAutostart(!0)?k({message:"已成功设置开机启动! 下次开机时软件将自动启动并最小化到托盘。如果启动出现问题，请尝试手动启动软件。",type:"success",duration:3e3}):(y.autostart=!1,k({message:"设置开机启动失败，请检查应用权限。",type:"error",duration:2e3}))}catch(l){console.error("设置开机启动时出错:",l),y.autostart=!1,k({message:"设置开机启动时出错: "+l,type:"error",duration:2e3})}else try{if(await window.pywebview.api.setAutostart(!1))k({message:"已成功取消开机启动!",type:"success",duration:1500});else{const e=await window.pywebview.api.checkAutostartExists();y.autostart=e,k({message:"取消开机启动失败，请检查应用权限。",type:"error",duration:2e3})}}catch(l){console.error("取消开机启动时出错:",l);const e=await window.pywebview.api.checkAutostartExists();y.autostart=e,k({message:"取消开机启动时出错: "+l,type:"error",duration:2e3})}},I=d(10),O=d(1),L=d(10),M=d(1),ae=oe(()=>!U.value&&!A.value?W.value:W.value.filter(l=>{if(A.value==="enabled"&&!l.enabled||A.value==="disabled"&&l.enabled)return!1;if(U.value){const e=U.value.toLowerCase();return l.guiname&&l.guiname.toLowerCase().includes(e)||l.sign&&l.sign.toLowerCase().includes(e)||l.main&&l.main.toLowerCase().includes(e)||l.menuname&&l.menuname.toLowerCase().includes(e)}return!0})),De=oe(()=>{const l=(O.value-1)*I.value,e=l+I.value;return ae.value.slice(l,e)}),te=oe(()=>!E.value&&!T.value?Z.value:Z.value.filter(l=>{if(T.value==="enabled"&&!l.enabled||T.value==="disabled"&&l.enabled)return!1;if(E.value){const e=E.value.toLowerCase();return l.guiname&&l.guiname.toLowerCase().includes(e)||l.sign&&l.sign.toLowerCase().includes(e)||l.main&&l.main.toLowerCase().includes(e)||l.menuname&&l.menuname.toLowerCase().includes(e)}return!0})),Ne=oe(()=>{const l=(M.value-1)*L.value,e=l+L.value;return te.value.slice(l,e)}),Oe=l=>{I.value=l},Me=l=>{O.value=l},_e=l=>{L.value=l},Fe=l=>{M.value=l},U=d(""),A=d(""),E=d(""),T=d("");ne([U,A],()=>{O.value=1}),ne([E,T],()=>{M.value=1});const qe=()=>{U.value="",A.value="",O.value=1},Je=()=>{E.value="",T.value="",M.value=1},Ie=l=>{l===!0&&(p.value.autoclose=!0)},re=async()=>{ee.value=!0;try{if(!window.pywebview||!window.pywebview.api){console.error("pywebview API尚未初始化，无法加载定时任务"),ee.value=!1;return}const l=await window.pywebview.api.getTimedApps();Z.value=l||[],M.value=1}catch(l){console.error("加载定时任务列表出错:",l)}finally{ee.value=!1}},Le=async l=>{try{await window.pywebview.api.updateTimedApp({id:l.id,enabled:l.enabled})?n("成功","已更新定时任务启用状态","success"):(l.enabled=!l.enabled,n("错误","更新定时任务启用状态失败","error"))}catch(e){l.enabled=!l.enabled,console.error("更新定时任务启用状态出错:",e),n("错误",`更新定时任务启用状态出错: ${e}`,"error")}},Pe=async l=>{try{l.bkgrdstat&&(l.autoclose=!0),await window.pywebview.api.updateTimedApp({id:l.id,bkgrdstat:l.bkgrdstat,autoclose:l.autoclose})?n("成功","已更新定时任务后台运行状态","success"):(l.bkgrdstat=!l.bkgrdstat,l.bkgrdstat===!1||(l.autoclose=!1),n("错误","更新定时任务后台运行状态失败","error"))}catch(e){l.bkgrdstat=!l.bkgrdstat,l.bkgrdstat===!1||(l.autoclose=!1),console.error("更新定时任务后台运行状态出错:",e),n("错误",`更新定时任务后台运行状态出错: ${e}`,"error")}},Be=async l=>{try{await window.pywebview.api.updateTimedApp({id:l.id,autoclose:l.autoclose})?n("成功","已更新定时任务结束关闭状态","success"):(l.autoclose=!l.autoclose,n("错误","更新定时任务结束关闭状态失败","error"))}catch(e){l.autoclose=!l.autoclose,console.error("更新定时任务结束关闭状态出错:",e),n("错误",`更新定时任务结束关闭状态出错: ${e}`,"error")}},He=l=>{r.value=JSON.parse(JSON.stringify(l));try{r.value.formdata?D.value=JSON.stringify(r.value.formdata,null,2):D.value="{}",N.value=""}catch(e){console.error("转换定时任务formdata失败:",e),D.value="{}",N.value="原始数据格式无效，已重置为空对象"}Ke(),H.value=!0},Ye=async()=>{try{try{if(D.value.trim()){const e=JSON.parse(D.value);r.value.formdata=e}else r.value.formdata={};N.value=""}catch(e){N.value="JSON格式无效，请检查语法",console.error("JSON解析错误:",e);return}await pe.value.validate(),await window.pywebview.api.updateTimedApp(r.value)?(n("成功","已保存定时任务设置","success"),H.value=!1,await re()):n("错误","保存定时任务设置失败","error")}catch(l){console.error("保存定时任务设置出错:",l),typeof l=="string"&&n("错误",`保存定时任务设置出错: ${l}`,"error")}},Re=l=>{Y.value=l,J.value=!0},Qe=async()=>{try{if(!Y.value||!Y.value.id)return;await window.pywebview.api.deleteTimedApp(Y.value.id)?(n("成功","已删除定时任务","success"),J.value=!1,await re()):n("错误","删除定时任务失败","error")}catch(l){console.error("删除定时任务出错:",l),n("错误",`删除定时任务出错: ${l}`,"error")}finally{J.value=!1}},je=l=>{l===!0&&(r.value.autoclose=!0)},Ke=()=>{const l=r.value.timedvalue,e=r.value.timedtype;e==="daily"&&l?R.value=l:e==="custom"&&l?Q.value=l:(R.value="",Q.value="")},Ge=l=>{r.value.timedvalue=l||""},We=l=>{r.value.timedvalue=l||""};return ne(()=>r.value.timedtype,(l,e)=>{l!==e&&(r.value.timedvalue="",R.value="",Q.value="")}),(l,e)=>(i(),v("div",rl,[u("div",nl,[u("div",il,[u("div",dl,[u("div",pl,[u("div",ml,[o(a(K),{type:h.value==="settings"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[0]||(e[0]=t=>j("settings"))},{default:s(()=>e[45]||(e[45]=[c(" 系统设置 ")])),_:1},8,["type"]),o(a(K),{type:h.value==="startupManage"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[1]||(e[1]=t=>j("startupManage"))},{default:s(()=>e[46]||(e[46]=[c(" 开机管理 ")])),_:1},8,["type"]),o(a(K),{type:h.value==="timedManage"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[2]||(e[2]=t=>j("timedManage"))},{default:s(()=>e[47]||(e[47]=[c(" 定时管理 ")])),_:1},8,["type"]),o(a(K),{type:h.value==="helpCenter"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[3]||(e[3]=t=>j("helpCenter"))},{default:s(()=>e[48]||(e[48]=[c(" 常见问题 ")])),_:1},8,["type"]),o(a(K),{type:h.value==="about"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[4]||(e[4]=t=>j("about"))},{default:s(()=>e[49]||(e[49]=[c(" 关于我们 ")])),_:1},8,["type"])])]),e[76]||(e[76]=u("div",{class:"divider-horizontal"},null,-1)),h.value==="settings"?(i(),v("div",vl,[u("div",fl,[e[51]||(e[51]=u("h2",null,"创建桌面快捷方式",-1)),u("label",cl,[me(u("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=t=>y.createShortcut=t),onChange:$e},null,544),[[ve,y.createShortcut]]),e[50]||(e[50]=u("span",{class:"slider round"},null,-1))])]),u("div",gl,[e[53]||(e[53]=u("h2",null,"设置开机启动",-1)),u("label",yl,[me(u("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=t=>y.autostart=t),onChange:ze},null,544),[[ve,y.autostart]]),e[52]||(e[52]=u("span",{class:"slider round"},null,-1))])])])):b("",!0),h.value==="startupManage"?(i(),v("div",bl,[W.value.length>0?(i(),v("div",wl,[o(a(V),{modelValue:U.value,"onUpdate:modelValue":e[7]||(e[7]=t=>U.value=t),placeholder:"搜索应用名称、标识或入口...",clearable:"",class:"filter-input"},{prefix:s(()=>[o(a(F),null,{default:s(()=>[o(a(se))]),_:1})]),_:1},8,["modelValue"]),o(a(ie),{modelValue:A.value,"onUpdate:modelValue":e[8]||(e[8]=t=>A.value=t),placeholder:"启用状态",clearable:"",class:"filter-select"},{default:s(()=>[o(a(C),{label:"全部",value:""}),o(a(C),{label:"已启用",value:"enabled"}),o(a(C),{label:"未启用",value:"disabled"})]),_:1},8,["modelValue"]),U.value||A.value?(i(),v("div",Vl,[u("span",null,"找到 "+x(ae.value.length)+" 条匹配项",1),o(a(w),{type:"text",onClick:qe},{default:s(()=>e[54]||(e[54]=[c("清除过滤")])),_:1})])):b("",!0)])):b("",!0),X.value?(i(),v("div",kl,[o(a(F),{class:"loading-icon"},{default:s(()=>[o(a(fe))]),_:1}),e[55]||(e[55]=u("span",null,"加载中...",-1))])):(i(),_(a(ce),{key:2,data:De.value,stripe:"",style:{width:"100%"},class:"startup-table",border:"","highlight-current-row":""},{empty:s(()=>[u("div",hl,[U.value||A.value?(i(),_(a(F),{key:0},{default:s(()=>[o(a(se))]),_:1})):b("",!0),U.value||A.value?(i(),v("span",Cl,"暂无匹配的启动项，请尝试更改搜索条件")):(i(),v("span",Sl,"暂无启动应用数据"))])]),default:s(()=>[o(a(f),{prop:"id",label:"ID",width:"60",align:"center"}),o(a(f),{prop:"guiname",label:"应用名称","show-overflow-tooltip":""}),o(a(f),{prop:"sign",label:"应用标识","show-overflow-tooltip":""}),o(a(f),{prop:"main",label:"应用入口","show-overflow-tooltip":""}),o(a(f),{prop:"menuname",label:"菜单名称","show-overflow-tooltip":""}),o(a(f),{label:"已启用",align:"center"},{default:s(t=>[o(a(S),{modelValue:t.row.enabled,"onUpdate:modelValue":m=>t.row.enabled=m,onChange:m=>he(t.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),o(a(f),{label:"后台运行",align:"center"},{default:s(t=>[o(a(S),{modelValue:t.row.bkgrdstat,"onUpdate:modelValue":m=>t.row.bkgrdstat=m,onChange:m=>Ce(t.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),o(a(f),{label:"结束关闭",align:"center"},{default:s(t=>[o(a(S),{modelValue:t.row.autoclose,"onUpdate:modelValue":m=>t.row.autoclose=m,onChange:m=>Se(t.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),o(a(f),{prop:"priority",label:"优先级",align:"center"}),o(a(f),{prop:"delay",label:"延迟(秒)",align:"center"}),o(a(f),{label:"操作",width:"180",align:"center"},{default:s(t=>[o(a(w),{size:"small",type:"primary",plain:"",onClick:m=>Ue(t.row)},{default:s(()=>e[56]||(e[56]=[c(" 编辑 ")])),_:2},1032,["onClick"]),o(a(w),{size:"small",type:"danger",plain:"",onClick:m=>Ee(t.row)},{default:s(()=>e[57]||(e[57]=[c(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),ae.value.length>I.value?(i(),v("div",Ul,[o(a(ge),{"current-page":O.value,"onUpdate:currentPage":e[9]||(e[9]=t=>O.value=t),"page-size":I.value,"onUpdate:pageSize":e[10]||(e[10]=t=>I.value=t),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:ae.value.length,onSizeChange:Oe,onCurrentChange:Me},null,8,["current-page","page-size","total"])])):b("",!0),o(a(ue),{modelValue:P.value,"onUpdate:modelValue":e[22]||(e[22]=t=>P.value=t),title:"编辑启动应用",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:s(()=>[u("span",El,[o(a(w),{onClick:e[21]||(e[21]=t=>P.value=!1)},{default:s(()=>e[59]||(e[59]=[c("取消")])),_:1}),o(a(w),{type:"primary",onClick:Ae},{default:s(()=>e[60]||(e[60]=[c("保存")])),_:1})])]),default:s(()=>[o(a(ye),{model:p.value,"label-width":"100px",rules:Ve,ref_key:"startupFormRef",ref:de,"status-icon":""},{default:s(()=>[o(a(g),{label:"应用名称",prop:"guiname"},{default:s(()=>[o(a(V),{modelValue:p.value.guiname,"onUpdate:modelValue":e[11]||(e[11]=t=>p.value.guiname=t),spellcheck:"false",placeholder:"请输入应用名称"},null,8,["modelValue"])]),_:1}),o(a(g),{label:"应用标识",prop:"sign"},{default:s(()=>[o(a(V),{modelValue:p.value.sign,"onUpdate:modelValue":e[12]||(e[12]=t=>p.value.sign=t),spellcheck:"false",placeholder:"请输入应用标识"},null,8,["modelValue"])]),_:1}),o(a(g),{label:"应用入口",prop:"main"},{default:s(()=>[o(a(V),{modelValue:p.value.main,"onUpdate:modelValue":e[13]||(e[13]=t=>p.value.main=t),spellcheck:"false",placeholder:"请输入应用入口路径"},null,8,["modelValue"])]),_:1}),o(a(g),{label:"菜单名称",prop:"menuname"},{default:s(()=>[o(a(V),{modelValue:p.value.menuname,"onUpdate:modelValue":e[14]||(e[14]=t=>p.value.menuname=t),spellcheck:"false",placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1}),o(a(g),{label:"已启用"},{default:s(()=>[o(a(S),{modelValue:p.value.enabled,"onUpdate:modelValue":e[15]||(e[15]=t=>p.value.enabled=t)},null,8,["modelValue"])]),_:1}),o(a(g),{label:"后台运行"},{default:s(()=>[o(a(S),{modelValue:p.value.bkgrdstat,"onUpdate:modelValue":e[16]||(e[16]=t=>p.value.bkgrdstat=t),onChange:Ie},null,8,["modelValue"])]),_:1}),o(a(g),{label:"结束关闭"},{default:s(()=>[o(a(S),{modelValue:p.value.autoclose,"onUpdate:modelValue":e[17]||(e[17]=t=>p.value.autoclose=t)},null,8,["modelValue"])]),_:1}),o(a(g),{label:"优先级",prop:"priority"},{default:s(()=>[o(a(be),{modelValue:p.value.priority,"onUpdate:modelValue":e[18]||(e[18]=t=>p.value.priority=t),spellcheck:"false",min:0,max:999},null,8,["modelValue"])]),_:1}),o(a(g),{label:"延迟(秒)",prop:"delay"},{default:s(()=>[o(a(be),{modelValue:p.value.delay,"onUpdate:modelValue":e[19]||(e[19]=t=>p.value.delay=t),spellcheck:"false",min:0,max:300},null,8,["modelValue"])]),_:1}),o(a(g),{label:"应用参数",prop:"formdata"},{default:s(()=>[o(a(V),{modelValue:$.value,"onUpdate:modelValue":e[20]||(e[20]=t=>$.value=t),type:"textarea",spellcheck:"false",rows:5,placeholder:"请输入JSON格式的应用参数",class:we({"is-invalid":z.value})},null,8,["modelValue","class"]),z.value?(i(),v("div",Al,x(z.value),1)):b("",!0),e[58]||(e[58]=u("div",{class:"formdata-tips"},[u("small",null,'JSON格式，例如: {"key": "value", "setting": true}')],-1))]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),o(a(ue),{modelValue:q.value,"onUpdate:modelValue":e[24]||(e[24]=t=>q.value=t),title:"确认删除",width:"30%",center:""},{footer:s(()=>[u("span",Tl,[o(a(w),{onClick:e[23]||(e[23]=t=>q.value=!1)},{default:s(()=>e[61]||(e[61]=[c("取消")])),_:1}),o(a(w),{type:"danger",onClick:Te},{default:s(()=>e[62]||(e[62]=[c("确认删除")])),_:1})])]),default:s(()=>{var t;return[u("span",null,'确定要删除启动项 "'+x((t=B.value)==null?void 0:t.guiname)+'" 吗？',1)]}),_:1},8,["modelValue"])])):b("",!0),h.value==="timedManage"?(i(),v("div",xl,[Z.value.length>0?(i(),v("div",$l,[o(a(V),{modelValue:E.value,"onUpdate:modelValue":e[25]||(e[25]=t=>E.value=t),placeholder:"搜索应用名称、标识或入口...",clearable:"",class:"filter-input"},{prefix:s(()=>[o(a(F),null,{default:s(()=>[o(a(se))]),_:1})]),_:1},8,["modelValue"]),o(a(ie),{modelValue:T.value,"onUpdate:modelValue":e[26]||(e[26]=t=>T.value=t),placeholder:"启用状态",clearable:"",class:"filter-select"},{default:s(()=>[o(a(C),{label:"全部",value:""}),o(a(C),{label:"已启用",value:"enabled"}),o(a(C),{label:"未启用",value:"disabled"})]),_:1},8,["modelValue"]),E.value||T.value?(i(),v("div",zl,[u("span",null,"找到 "+x(te.value.length)+" 条匹配项",1),o(a(w),{type:"text",onClick:Je},{default:s(()=>e[63]||(e[63]=[c("清除过滤")])),_:1})])):b("",!0)])):b("",!0),ee.value?(i(),v("div",Dl,[o(a(F),{class:"loading-icon"},{default:s(()=>[o(a(fe))]),_:1}),e[64]||(e[64]=u("span",null,"加载中...",-1))])):(i(),_(a(ce),{key:2,data:Ne.value,stripe:"",style:{width:"100%"},class:"startup-table",border:"","highlight-current-row":""},{empty:s(()=>[u("div",Nl,[E.value||T.value?(i(),_(a(F),{key:0},{default:s(()=>[o(a(se))]),_:1})):b("",!0),E.value||T.value?(i(),v("span",Ol,"暂无匹配的定时任务，请尝试更改搜索条件")):(i(),v("span",Ml,"暂无定时任务数据"))])]),default:s(()=>[o(a(f),{prop:"id",label:"ID",width:"60",align:"center"}),o(a(f),{prop:"guiname",label:"应用名称","show-overflow-tooltip":""}),o(a(f),{prop:"sign",label:"应用标识","show-overflow-tooltip":""}),o(a(f),{prop:"main",label:"应用入口","show-overflow-tooltip":""}),o(a(f),{prop:"menuname",label:"菜单名称","show-overflow-tooltip":""}),o(a(f),{prop:"timedtype",label:"定时类型","show-overflow-tooltip":""}),o(a(f),{prop:"timedvalue",label:"定时值","show-overflow-tooltip":""}),o(a(f),{label:"已启用",align:"center"},{default:s(t=>[o(a(S),{modelValue:t.row.enabled,"onUpdate:modelValue":m=>t.row.enabled=m,onChange:m=>Le(t.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),o(a(f),{label:"后台运行",align:"center"},{default:s(t=>[o(a(S),{modelValue:t.row.bkgrdstat,"onUpdate:modelValue":m=>t.row.bkgrdstat=m,onChange:m=>Pe(t.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),o(a(f),{label:"结束关闭",align:"center"},{default:s(t=>[o(a(S),{modelValue:t.row.autoclose,"onUpdate:modelValue":m=>t.row.autoclose=m,onChange:m=>Be(t.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),o(a(f),{label:"操作",width:"180",align:"center"},{default:s(t=>[o(a(w),{size:"small",type:"primary",plain:"",onClick:m=>He(t.row)},{default:s(()=>e[65]||(e[65]=[c(" 编辑 ")])),_:2},1032,["onClick"]),o(a(w),{size:"small",type:"danger",plain:"",onClick:m=>Re(t.row)},{default:s(()=>e[66]||(e[66]=[c(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),te.value.length>L.value?(i(),v("div",_l,[o(a(ge),{"current-page":M.value,"onUpdate:currentPage":e[27]||(e[27]=t=>M.value=t),"page-size":L.value,"onUpdate:pageSize":e[28]||(e[28]=t=>L.value=t),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:te.value.length,onSizeChange:_e,onCurrentChange:Fe},null,8,["current-page","page-size","total"])])):b("",!0),o(a(ue),{modelValue:H.value,"onUpdate:modelValue":e[42]||(e[42]=t=>H.value=t),title:"编辑定时任务",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:s(()=>[u("span",ql,[o(a(w),{onClick:e[41]||(e[41]=t=>H.value=!1)},{default:s(()=>e[68]||(e[68]=[c("取消")])),_:1}),o(a(w),{type:"primary",onClick:Ye},{default:s(()=>e[69]||(e[69]=[c("保存")])),_:1})])]),default:s(()=>[o(a(ye),{model:r.value,"label-width":"100px",rules:ke,ref_key:"timedFormRef",ref:pe,"status-icon":""},{default:s(()=>[o(a(g),{label:"应用名称",prop:"guiname"},{default:s(()=>[o(a(V),{modelValue:r.value.guiname,"onUpdate:modelValue":e[29]||(e[29]=t=>r.value.guiname=t),spellcheck:"false",placeholder:"请输入应用名称"},null,8,["modelValue"])]),_:1}),o(a(g),{label:"应用标识",prop:"sign"},{default:s(()=>[o(a(V),{modelValue:r.value.sign,"onUpdate:modelValue":e[30]||(e[30]=t=>r.value.sign=t),spellcheck:"false",placeholder:"请输入应用标识"},null,8,["modelValue"])]),_:1}),o(a(g),{label:"应用入口",prop:"main"},{default:s(()=>[o(a(V),{modelValue:r.value.main,"onUpdate:modelValue":e[31]||(e[31]=t=>r.value.main=t),spellcheck:"false",placeholder:"请输入应用入口路径"},null,8,["modelValue"])]),_:1}),o(a(g),{label:"菜单名称",prop:"menuname"},{default:s(()=>[o(a(V),{modelValue:r.value.menuname,"onUpdate:modelValue":e[32]||(e[32]=t=>r.value.menuname=t),spellcheck:"false",placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1}),o(a(g),{label:"定时类型",prop:"timedtype"},{default:s(()=>[o(a(ie),{modelValue:r.value.timedtype,"onUpdate:modelValue":e[33]||(e[33]=t=>r.value.timedtype=t),placeholder:"请选择定时类型",clearable:""},{default:s(()=>[o(a(C),{label:"间隔(天)",value:"days"}),o(a(C),{label:"间隔(小时)",value:"hours"}),o(a(C),{label:"间隔(分钟)",value:"minutes"}),o(a(C),{label:"间隔(秒)",value:"seconds"}),o(a(C),{label:"每天几点",value:"daily"}),o(a(C),{label:"自定义",value:"custom"})]),_:1},8,["modelValue"])]),_:1}),o(a(g),{label:"定时值",prop:"timedvalue"},{default:s(()=>[r.value.timedtype==="daily"?(i(),_(a(ll),{key:0,modelValue:R.value,"onUpdate:modelValue":e[34]||(e[34]=t=>R.value=t),format:"HH:mm","value-format":"HH:mm",placeholder:"请选择时间",onChange:Ge},null,8,["modelValue"])):r.value.timedtype==="custom"?(i(),_(a(al),{key:1,modelValue:Q.value,"onUpdate:modelValue":e[35]||(e[35]=t=>Q.value=t),type:"datetime",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm",placeholder:"请选择日期时间",onChange:We},null,8,["modelValue"])):(i(),_(a(V),{key:2,modelValue:r.value.timedvalue,"onUpdate:modelValue":e[36]||(e[36]=t=>r.value.timedvalue=t),spellcheck:"false",placeholder:"请输入定时值"},null,8,["modelValue"]))]),_:1}),o(a(g),{label:"已启用"},{default:s(()=>[o(a(S),{modelValue:r.value.enabled,"onUpdate:modelValue":e[37]||(e[37]=t=>r.value.enabled=t)},null,8,["modelValue"])]),_:1}),o(a(g),{label:"后台运行"},{default:s(()=>[o(a(S),{modelValue:r.value.bkgrdstat,"onUpdate:modelValue":e[38]||(e[38]=t=>r.value.bkgrdstat=t),onChange:je},null,8,["modelValue"])]),_:1}),o(a(g),{label:"结束关闭"},{default:s(()=>[o(a(S),{modelValue:r.value.autoclose,"onUpdate:modelValue":e[39]||(e[39]=t=>r.value.autoclose=t)},null,8,["modelValue"])]),_:1}),o(a(g),{label:"应用参数",prop:"formdata"},{default:s(()=>[o(a(V),{modelValue:D.value,"onUpdate:modelValue":e[40]||(e[40]=t=>D.value=t),type:"textarea",spellcheck:"false",rows:5,placeholder:"请输入JSON格式的应用参数",class:we({"is-invalid":N.value})},null,8,["modelValue","class"]),N.value?(i(),v("div",Fl,x(N.value),1)):b("",!0),e[67]||(e[67]=u("div",{class:"formdata-tips"},[u("small",null,'JSON格式，例如: {"key": "value", "setting": true}')],-1))]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),o(a(ue),{modelValue:J.value,"onUpdate:modelValue":e[44]||(e[44]=t=>J.value=t),title:"确认删除",width:"30%",center:""},{footer:s(()=>[u("span",Jl,[o(a(w),{onClick:e[43]||(e[43]=t=>J.value=!1)},{default:s(()=>e[70]||(e[70]=[c("取消")])),_:1}),o(a(w),{type:"danger",onClick:Qe},{default:s(()=>e[71]||(e[71]=[c("确认删除")])),_:1})])]),default:s(()=>{var t;return[u("span",null,'确定要删除定时任务 "'+x((t=Y.value)==null?void 0:t.guiname)+'" 吗？',1)]}),_:1},8,["modelValue"]),u("div",Il,[u("div",Ll,[o(a(F),{class:"notice-icon"},{default:s(()=>[o(a(tl))]),_:1}),e[72]||(e[72]=u("span",{class:"notice-text"},[u("strong",null,"重要提示："),c("新增,编辑,删除定时任务，需要退出重启软件才会生效。 ")],-1))])])])):b("",!0),h.value==="helpCenter"?(i(),v("div",Pl,[e[73]||(e[73]=u("h2",null,"常见问题",-1)),e[74]||(e[74]=u("div",{class:"macos-divider"},null,-1)),u("div",Bl,[(i(!0),v(ol,null,sl(a(G).ASKED_QUESTIONS,(t,m)=>(i(),v("div",{key:m,class:"faq-item"},[u("div",Hl,[u("strong",null,"问："+x(t.question),1)]),u("div",Yl,"答："+x(t.answer),1)]))),128)),!a(G).ASKED_QUESTIONS||a(G).ASKED_QUESTIONS.length===0?(i(),v("div",Rl," 暂无常见问题 ")):b("",!0)])])):b("",!0),h.value==="about"?(i(),v("div",Ql,[e[75]||(e[75]=u("h2",null,"关于我们",-1)),u("div",{innerHTML:a(G).ABOUTUS},null,8,jl)])):b("",!0)])])])]))}},Xl=Xe(Kl,[["__scopeId","data-v-ee0d4884"]]);export{Xl as default};
