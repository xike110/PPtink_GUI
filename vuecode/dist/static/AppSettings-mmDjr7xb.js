import{_ as Ke,r as n,a as He,o as Ge,c as le,w as ie,b as m,e as r,g as w,d as t,f as o,A as c,u as a,a8 as j,i as de,a7 as pe,m as ae,S as L,a9 as te,aa as V,ab as C,ac as re,t as T,C as y,ad as ve,ae as f,af as S,ag as me,ah as fe,ai as ge,aj as g,ak as ce,p as be,q as se,F as We,l as Xe,R as Ye,al as k,x as i}from"./zh-cn-Vbf23Fjh.js";const Ze={class:"macos-window"},el={class:"content-area"},ll={class:"section-container"},al={class:"settings-content"},tl={class:"settings-header"},sl={class:"tabs"},ol={key:0},rl={class:"settings-section"},ul={class:"switch"},nl={class:"settings-section"},il={class:"switch"},dl={key:1,class:"startup-manage-section"},pl={key:0,class:"filter-container"},vl={key:0,class:"filter-info"},ml={key:1,class:"startup-loading"},fl={class:"empty-placeholder"},gl={key:1},cl={key:2},bl={key:3,class:"pagination-container"},wl={key:0,class:"formdata-error"},yl={class:"dialog-footer"},Vl={class:"dialog-footer"},kl={key:2,class:"timed-manage-section"},hl={key:0,class:"filter-container"},Cl={key:0,class:"filter-info"},Sl={key:1,class:"startup-loading"},Ul={class:"empty-placeholder"},Al={key:1},El={key:2},xl={key:3,class:"pagination-container"},Tl={key:0,class:"formdata-error"},$l={class:"dialog-footer"},zl={class:"dialog-footer"},Nl={key:3,class:"help-section"},Ol={class:"faq-container"},Dl={class:"faq-question"},Fl={class:"faq-answer"},_l={key:0,class:"faq-empty"},ql={key:4,class:"about-section"},Jl=["innerHTML"],Il={__name:"AppSettings",setup(Ll){const K=Ye("appConfig"),h=n("settings"),b=He({createShortcut:!1,autostart:!1,directoryPath:"未选择目录"}),H=n([]),G=n(!1),M=n(!1),d=n({}),ue=n(null),_=n(!1),B=n(null),$=n(""),z=n(""),W=n([]),X=n(!1),P=n(!1),p=n({}),ne=n(null),q=n(!1),R=n(null),N=n(""),O=n(""),we={guiname:[{required:!0,message:"请输入应用名称",trigger:"blur"}],sign:[{required:!0,message:"请输入应用标识",trigger:"blur"}],main:[{required:!0,message:"请输入应用入口",trigger:"blur"}],menuname:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},ye={guiname:[{required:!0,message:"请输入应用名称",trigger:"blur"}],sign:[{required:!0,message:"请输入应用标识",trigger:"blur"}],main:[{required:!0,message:"请输入应用入口",trigger:"blur"}],menuname:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},Y=async()=>{G.value=!0;try{if(!window.pywebview||!window.pywebview.api){console.error("pywebview API尚未初始化，无法加载启动应用"),G.value=!1;return}const l=await window.pywebview.api.getStartupApps();H.value=l||[],D.value=1}catch(l){console.error("加载启动应用列表出错:",l)}finally{G.value=!1}},Ve=async l=>{try{await window.pywebview.api.updateStartupApp({id:l.id,enabled:l.enabled})?u("成功","已更新启动状态","success"):(l.enabled=!l.enabled,u("错误","更新启动状态失败","error"))}catch(e){l.enabled=!l.enabled,console.error("更新启动状态出错:",e),u("错误",`更新启动状态出错: ${e}`,"error")}},ke=async l=>{try{l.bkgrdstat&&(l.autoclose=!0),await window.pywebview.api.updateStartupApp({id:l.id,bkgrdstat:l.bkgrdstat,autoclose:l.autoclose})?u("成功","已更新后台运行状态","success"):(l.bkgrdstat=!l.bkgrdstat,l.bkgrdstat===!1||(l.autoclose=!1),u("错误","更新后台运行状态失败","error"))}catch(e){l.bkgrdstat=!l.bkgrdstat,l.bkgrdstat===!1||(l.autoclose=!1),console.error("更新后台运行状态出错:",e),u("错误",`更新后台运行状态出错: ${e}`,"error")}},he=async l=>{try{await window.pywebview.api.updateStartupApp({id:l.id,autoclose:l.autoclose})?u("成功","已更新结束关闭状态","success"):(l.autoclose=!l.autoclose,u("错误","更新结束关闭状态失败","error"))}catch(e){l.autoclose=!l.autoclose,console.error("更新结束关闭状态出错:",e),u("错误",`更新结束关闭状态出错: ${e}`,"error")}},Ce=l=>{d.value=JSON.parse(JSON.stringify(l));try{d.value.formdata?$.value=JSON.stringify(d.value.formdata,null,2):$.value="{}",z.value=""}catch(e){console.error("转换formdata失败:",e),$.value="{}",z.value="原始数据格式无效，已重置为空对象"}M.value=!0},Se=async()=>{try{try{if($.value.trim()){const e=JSON.parse($.value);d.value.formdata=e}else d.value.formdata={};z.value=""}catch(e){z.value="JSON格式无效，请检查语法",console.error("JSON解析错误:",e);return}await ue.value.validate(),await window.pywebview.api.updateStartupApp(d.value)?(u("成功","已保存启动应用设置","success"),M.value=!1,await Y()):u("错误","保存启动应用设置失败","error")}catch(l){console.error("保存启动应用设置出错:",l),typeof l=="string"&&u("错误",`保存启动应用设置出错: ${l}`,"error")}},Ue=l=>{B.value=l,_.value=!0},Ae=async()=>{try{if(!B.value||!B.value.id)return;await window.pywebview.api.deleteStartupApp(B.value.id)?(u("成功","已删除启动应用","success"),_.value=!1,await Y()):u("错误","删除启动应用失败","error")}catch(l){console.error("删除启动应用出错:",l),u("错误",`删除启动应用出错: ${l}`,"error")}finally{_.value=!1}},u=(l,e,s="info")=>{k({message:e,type:s==="danger"?"error":s,duration:s==="error"||s==="danger"?3e3:1500})};Ge(()=>{setTimeout(()=>{Ee(),h.value==="startupManage"&&Y()},500)});const Q=l=>{h.value=l,l==="startupManage"&&Y(),l==="timedManage"&&oe()},Ee=async()=>{try{if(!window.pywebview||!window.pywebview.api){console.error("pywebview API尚未初始化");return}const l=await window.pywebview.api.checkShortcutExists();b.createShortcut=l;const e=await window.pywebview.api.checkAutostartExists();b.autostart=e}catch(l){console.error("初始化设置时出错:",l)}},xe=async()=>{if(b.createShortcut)try{await window.pywebview.api.createShortcut()?k({message:"已成功创建桌面快捷方式!",type:"success",duration:1500}):(b.createShortcut=!1,k({message:"创建桌面快捷方式失败。",type:"error",duration:2e3}))}catch(l){console.error("创建桌面快捷方式时出错:",l),b.createShortcut=!1,k({message:"创建桌面快捷方式时出错: "+l,type:"error",duration:2e3})}else try{if(await window.pywebview.api.removeShortcut())k({message:"已成功删除桌面快捷方式!",type:"success",duration:1500});else{const e=await window.pywebview.api.checkShortcutExists();b.createShortcut=e,k({message:"删除桌面快捷方式失败。",type:"error",duration:2e3})}}catch(l){console.error("删除桌面快捷方式时出错:",l);const e=await window.pywebview.api.checkShortcutExists();b.createShortcut=e,k({message:"删除桌面快捷方式时出错: "+l,type:"error",duration:2e3})}},Te=async()=>{if(b.autostart)try{await window.pywebview.api.setAutostart(!0)?k({message:"已成功设置开机启动! 下次开机时软件将自动启动并最小化到托盘。如果启动出现问题，请尝试手动启动软件。",type:"success",duration:3e3}):(b.autostart=!1,k({message:"设置开机启动失败，请检查应用权限。",type:"error",duration:2e3}))}catch(l){console.error("设置开机启动时出错:",l),b.autostart=!1,k({message:"设置开机启动时出错: "+l,type:"error",duration:2e3})}else try{if(await window.pywebview.api.setAutostart(!1))k({message:"已成功取消开机启动!",type:"success",duration:1500});else{const e=await window.pywebview.api.checkAutostartExists();b.autostart=e,k({message:"取消开机启动失败，请检查应用权限。",type:"error",duration:2e3})}}catch(l){console.error("取消开机启动时出错:",l);const e=await window.pywebview.api.checkAutostartExists();b.autostart=e,k({message:"取消开机启动时出错: "+l,type:"error",duration:2e3})}},J=n(10),D=n(1),I=n(10),F=n(1),Z=le(()=>!U.value&&!A.value?H.value:H.value.filter(l=>{if(A.value==="enabled"&&!l.enabled||A.value==="disabled"&&l.enabled)return!1;if(U.value){const e=U.value.toLowerCase();return l.guiname&&l.guiname.toLowerCase().includes(e)||l.sign&&l.sign.toLowerCase().includes(e)||l.main&&l.main.toLowerCase().includes(e)||l.menuname&&l.menuname.toLowerCase().includes(e)}return!0})),$e=le(()=>{const l=(D.value-1)*J.value,e=l+J.value;return Z.value.slice(l,e)}),ee=le(()=>!E.value&&!x.value?W.value:W.value.filter(l=>{if(x.value==="enabled"&&!l.enabled||x.value==="disabled"&&l.enabled)return!1;if(E.value){const e=E.value.toLowerCase();return l.guiname&&l.guiname.toLowerCase().includes(e)||l.sign&&l.sign.toLowerCase().includes(e)||l.main&&l.main.toLowerCase().includes(e)||l.menuname&&l.menuname.toLowerCase().includes(e)}return!0})),ze=le(()=>{const l=(F.value-1)*I.value,e=l+I.value;return ee.value.slice(l,e)}),Ne=l=>{J.value=l},Oe=l=>{D.value=l},De=l=>{I.value=l},Fe=l=>{F.value=l},U=n(""),A=n(""),E=n(""),x=n("");ie([U,A],()=>{D.value=1}),ie([E,x],()=>{F.value=1});const _e=()=>{U.value="",A.value="",D.value=1},qe=()=>{E.value="",x.value="",F.value=1},Je=l=>{l===!0&&(d.value.autoclose=!0)},oe=async()=>{X.value=!0;try{if(!window.pywebview||!window.pywebview.api){console.error("pywebview API尚未初始化，无法加载定时任务"),X.value=!1;return}const l=await window.pywebview.api.getTimedApps();W.value=l||[],F.value=1}catch(l){console.error("加载定时任务列表出错:",l)}finally{X.value=!1}},Ie=async l=>{try{await window.pywebview.api.updateTimedApp({id:l.id,enabled:l.enabled})?u("成功","已更新定时任务启用状态","success"):(l.enabled=!l.enabled,u("错误","更新定时任务启用状态失败","error"))}catch(e){l.enabled=!l.enabled,console.error("更新定时任务启用状态出错:",e),u("错误",`更新定时任务启用状态出错: ${e}`,"error")}},Le=async l=>{try{l.bkgrdstat&&(l.autoclose=!0),await window.pywebview.api.updateTimedApp({id:l.id,bkgrdstat:l.bkgrdstat,autoclose:l.autoclose})?u("成功","已更新定时任务后台运行状态","success"):(l.bkgrdstat=!l.bkgrdstat,l.bkgrdstat===!1||(l.autoclose=!1),u("错误","更新定时任务后台运行状态失败","error"))}catch(e){l.bkgrdstat=!l.bkgrdstat,l.bkgrdstat===!1||(l.autoclose=!1),console.error("更新定时任务后台运行状态出错:",e),u("错误",`更新定时任务后台运行状态出错: ${e}`,"error")}},Me=async l=>{try{await window.pywebview.api.updateTimedApp({id:l.id,autoclose:l.autoclose})?u("成功","已更新定时任务结束关闭状态","success"):(l.autoclose=!l.autoclose,u("错误","更新定时任务结束关闭状态失败","error"))}catch(e){l.autoclose=!l.autoclose,console.error("更新定时任务结束关闭状态出错:",e),u("错误",`更新定时任务结束关闭状态出错: ${e}`,"error")}},Be=l=>{p.value=JSON.parse(JSON.stringify(l));try{p.value.formdata?N.value=JSON.stringify(p.value.formdata,null,2):N.value="{}",O.value=""}catch(e){console.error("转换定时任务formdata失败:",e),N.value="{}",O.value="原始数据格式无效，已重置为空对象"}P.value=!0},Pe=async()=>{try{try{if(N.value.trim()){const e=JSON.parse(N.value);p.value.formdata=e}else p.value.formdata={};O.value=""}catch(e){O.value="JSON格式无效，请检查语法",console.error("JSON解析错误:",e);return}await ne.value.validate(),await window.pywebview.api.updateTimedApp(p.value)?(u("成功","已保存定时任务设置","success"),P.value=!1,await oe()):u("错误","保存定时任务设置失败","error")}catch(l){console.error("保存定时任务设置出错:",l),typeof l=="string"&&u("错误",`保存定时任务设置出错: ${l}`,"error")}},Re=l=>{R.value=l,q.value=!0},Qe=async()=>{try{if(!R.value||!R.value.id)return;await window.pywebview.api.deleteTimedApp(R.value.id)?(u("成功","已删除定时任务","success"),q.value=!1,await oe()):u("错误","删除定时任务失败","error")}catch(l){console.error("删除定时任务出错:",l),u("错误",`删除定时任务出错: ${l}`,"error")}finally{q.value=!1}},je=l=>{l===!0&&(p.value.autoclose=!0)};return(l,e)=>(i(),m("div",Ze,[r("div",el,[r("div",ll,[r("div",al,[r("div",tl,[r("div",sl,[t(a(j),{type:h.value==="settings"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[0]||(e[0]=s=>Q("settings"))},{default:o(()=>e[43]||(e[43]=[c(" 系统设置 ")])),_:1},8,["type"]),t(a(j),{type:h.value==="startupManage"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[1]||(e[1]=s=>Q("startupManage"))},{default:o(()=>e[44]||(e[44]=[c(" 开机管理 ")])),_:1},8,["type"]),t(a(j),{type:h.value==="timedManage"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[2]||(e[2]=s=>Q("timedManage"))},{default:o(()=>e[45]||(e[45]=[c(" 定时管理 ")])),_:1},8,["type"]),t(a(j),{type:h.value==="helpCenter"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[3]||(e[3]=s=>Q("helpCenter"))},{default:o(()=>e[46]||(e[46]=[c(" 常见问题 ")])),_:1},8,["type"]),t(a(j),{type:h.value==="about"?"primary":"info",class:"tab-tag",size:"large",effect:"light",onClick:e[4]||(e[4]=s=>Q("about"))},{default:o(()=>e[47]||(e[47]=[c(" 关于我们 ")])),_:1},8,["type"])])]),e[73]||(e[73]=r("div",{class:"divider-horizontal"},null,-1)),h.value==="settings"?(i(),m("div",ol,[r("div",rl,[e[49]||(e[49]=r("h2",null,"创建桌面快捷方式",-1)),r("label",ul,[de(r("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=s=>b.createShortcut=s),onChange:xe},null,544),[[pe,b.createShortcut]]),e[48]||(e[48]=r("span",{class:"slider round"},null,-1))])]),r("div",nl,[e[51]||(e[51]=r("h2",null,"设置开机启动",-1)),r("label",il,[de(r("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=s=>b.autostart=s),onChange:Te},null,544),[[pe,b.autostart]]),e[50]||(e[50]=r("span",{class:"slider round"},null,-1))])])])):w("",!0),h.value==="startupManage"?(i(),m("div",dl,[H.value.length>0?(i(),m("div",pl,[t(a(V),{modelValue:U.value,"onUpdate:modelValue":e[7]||(e[7]=s=>U.value=s),placeholder:"搜索应用名称、标识或入口...",clearable:"",class:"filter-input"},{prefix:o(()=>[t(a(L),null,{default:o(()=>[t(a(te))]),_:1})]),_:1},8,["modelValue"]),t(a(re),{modelValue:A.value,"onUpdate:modelValue":e[8]||(e[8]=s=>A.value=s),placeholder:"启用状态",clearable:"",class:"filter-select"},{default:o(()=>[t(a(C),{label:"全部",value:""}),t(a(C),{label:"已启用",value:"enabled"}),t(a(C),{label:"未启用",value:"disabled"})]),_:1},8,["modelValue"]),U.value||A.value?(i(),m("div",vl,[r("span",null,"找到 "+T(Z.value.length)+" 条匹配项",1),t(a(y),{type:"text",onClick:_e},{default:o(()=>e[52]||(e[52]=[c("清除过滤")])),_:1})])):w("",!0)])):w("",!0),G.value?(i(),m("div",ml,[t(a(L),{class:"loading-icon"},{default:o(()=>[t(a(ve))]),_:1}),e[53]||(e[53]=r("span",null,"加载中...",-1))])):(i(),ae(a(me),{key:2,data:$e.value,stripe:"",style:{width:"100%"},class:"startup-table",border:"","highlight-current-row":""},{empty:o(()=>[r("div",fl,[U.value||A.value?(i(),ae(a(L),{key:0},{default:o(()=>[t(a(te))]),_:1})):w("",!0),U.value||A.value?(i(),m("span",gl,"暂无匹配的启动项，请尝试更改搜索条件")):(i(),m("span",cl,"暂无启动应用数据"))])]),default:o(()=>[t(a(f),{prop:"id",label:"ID",width:"60",align:"center"}),t(a(f),{prop:"guiname",label:"应用名称","show-overflow-tooltip":""}),t(a(f),{prop:"sign",label:"应用标识","show-overflow-tooltip":""}),t(a(f),{prop:"main",label:"应用入口","show-overflow-tooltip":""}),t(a(f),{prop:"menuname",label:"菜单名称","show-overflow-tooltip":""}),t(a(f),{label:"已启用",align:"center"},{default:o(s=>[t(a(S),{modelValue:s.row.enabled,"onUpdate:modelValue":v=>s.row.enabled=v,onChange:v=>Ve(s.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(a(f),{label:"后台运行",align:"center"},{default:o(s=>[t(a(S),{modelValue:s.row.bkgrdstat,"onUpdate:modelValue":v=>s.row.bkgrdstat=v,onChange:v=>ke(s.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(a(f),{label:"结束关闭",align:"center"},{default:o(s=>[t(a(S),{modelValue:s.row.autoclose,"onUpdate:modelValue":v=>s.row.autoclose=v,onChange:v=>he(s.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(a(f),{prop:"priority",label:"优先级",align:"center"}),t(a(f),{prop:"delay",label:"延迟(秒)",align:"center"}),t(a(f),{label:"操作",width:"180",align:"center"},{default:o(s=>[t(a(y),{size:"small",type:"primary",plain:"",onClick:v=>Ce(s.row)},{default:o(()=>e[54]||(e[54]=[c(" 编辑 ")])),_:2},1032,["onClick"]),t(a(y),{size:"small",type:"danger",plain:"",onClick:v=>Ue(s.row)},{default:o(()=>e[55]||(e[55]=[c(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),Z.value.length>J.value?(i(),m("div",bl,[t(a(fe),{"current-page":D.value,"onUpdate:currentPage":e[9]||(e[9]=s=>D.value=s),"page-size":J.value,"onUpdate:pageSize":e[10]||(e[10]=s=>J.value=s),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:Z.value.length,onSizeChange:Ne,onCurrentChange:Oe},null,8,["current-page","page-size","total"])])):w("",!0),t(a(se),{modelValue:M.value,"onUpdate:modelValue":e[22]||(e[22]=s=>M.value=s),title:"编辑启动应用",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:o(()=>[r("span",yl,[t(a(y),{onClick:e[21]||(e[21]=s=>M.value=!1)},{default:o(()=>e[57]||(e[57]=[c("取消")])),_:1}),t(a(y),{type:"primary",onClick:Se},{default:o(()=>e[58]||(e[58]=[c("保存")])),_:1})])]),default:o(()=>[t(a(ge),{model:d.value,"label-width":"100px",rules:we,ref_key:"startupFormRef",ref:ue,"status-icon":""},{default:o(()=>[t(a(g),{label:"应用名称",prop:"guiname"},{default:o(()=>[t(a(V),{modelValue:d.value.guiname,"onUpdate:modelValue":e[11]||(e[11]=s=>d.value.guiname=s),spellcheck:"false",placeholder:"请输入应用名称"},null,8,["modelValue"])]),_:1}),t(a(g),{label:"应用标识",prop:"sign"},{default:o(()=>[t(a(V),{modelValue:d.value.sign,"onUpdate:modelValue":e[12]||(e[12]=s=>d.value.sign=s),spellcheck:"false",placeholder:"请输入应用标识"},null,8,["modelValue"])]),_:1}),t(a(g),{label:"应用入口",prop:"main"},{default:o(()=>[t(a(V),{modelValue:d.value.main,"onUpdate:modelValue":e[13]||(e[13]=s=>d.value.main=s),spellcheck:"false",placeholder:"请输入应用入口路径"},null,8,["modelValue"])]),_:1}),t(a(g),{label:"菜单名称",prop:"menuname"},{default:o(()=>[t(a(V),{modelValue:d.value.menuname,"onUpdate:modelValue":e[14]||(e[14]=s=>d.value.menuname=s),spellcheck:"false",placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1}),t(a(g),{label:"已启用"},{default:o(()=>[t(a(S),{modelValue:d.value.enabled,"onUpdate:modelValue":e[15]||(e[15]=s=>d.value.enabled=s)},null,8,["modelValue"])]),_:1}),t(a(g),{label:"后台运行"},{default:o(()=>[t(a(S),{modelValue:d.value.bkgrdstat,"onUpdate:modelValue":e[16]||(e[16]=s=>d.value.bkgrdstat=s),onChange:Je},null,8,["modelValue"])]),_:1}),t(a(g),{label:"结束关闭"},{default:o(()=>[t(a(S),{modelValue:d.value.autoclose,"onUpdate:modelValue":e[17]||(e[17]=s=>d.value.autoclose=s)},null,8,["modelValue"])]),_:1}),t(a(g),{label:"优先级",prop:"priority"},{default:o(()=>[t(a(ce),{modelValue:d.value.priority,"onUpdate:modelValue":e[18]||(e[18]=s=>d.value.priority=s),spellcheck:"false",min:0,max:999},null,8,["modelValue"])]),_:1}),t(a(g),{label:"延迟(秒)",prop:"delay"},{default:o(()=>[t(a(ce),{modelValue:d.value.delay,"onUpdate:modelValue":e[19]||(e[19]=s=>d.value.delay=s),spellcheck:"false",min:0,max:300},null,8,["modelValue"])]),_:1}),t(a(g),{label:"应用参数",prop:"formdata"},{default:o(()=>[t(a(V),{modelValue:$.value,"onUpdate:modelValue":e[20]||(e[20]=s=>$.value=s),type:"textarea",spellcheck:"false",rows:5,placeholder:"请输入JSON格式的应用参数",class:be({"is-invalid":z.value})},null,8,["modelValue","class"]),z.value?(i(),m("div",wl,T(z.value),1)):w("",!0),e[56]||(e[56]=r("div",{class:"formdata-tips"},[r("small",null,'JSON格式，例如: {"key": "value", "setting": true}')],-1))]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),t(a(se),{modelValue:_.value,"onUpdate:modelValue":e[24]||(e[24]=s=>_.value=s),title:"确认删除",width:"30%",center:""},{footer:o(()=>[r("span",Vl,[t(a(y),{onClick:e[23]||(e[23]=s=>_.value=!1)},{default:o(()=>e[59]||(e[59]=[c("取消")])),_:1}),t(a(y),{type:"danger",onClick:Ae},{default:o(()=>e[60]||(e[60]=[c("确认删除")])),_:1})])]),default:o(()=>{var s;return[r("span",null,'确定要删除启动项 "'+T((s=B.value)==null?void 0:s.guiname)+'" 吗？',1)]}),_:1},8,["modelValue"])])):w("",!0),h.value==="timedManage"?(i(),m("div",kl,[W.value.length>0?(i(),m("div",hl,[t(a(V),{modelValue:E.value,"onUpdate:modelValue":e[25]||(e[25]=s=>E.value=s),placeholder:"搜索应用名称、标识或入口...",clearable:"",class:"filter-input"},{prefix:o(()=>[t(a(L),null,{default:o(()=>[t(a(te))]),_:1})]),_:1},8,["modelValue"]),t(a(re),{modelValue:x.value,"onUpdate:modelValue":e[26]||(e[26]=s=>x.value=s),placeholder:"启用状态",clearable:"",class:"filter-select"},{default:o(()=>[t(a(C),{label:"全部",value:""}),t(a(C),{label:"已启用",value:"enabled"}),t(a(C),{label:"未启用",value:"disabled"})]),_:1},8,["modelValue"]),E.value||x.value?(i(),m("div",Cl,[r("span",null,"找到 "+T(ee.value.length)+" 条匹配项",1),t(a(y),{type:"text",onClick:qe},{default:o(()=>e[61]||(e[61]=[c("清除过滤")])),_:1})])):w("",!0)])):w("",!0),X.value?(i(),m("div",Sl,[t(a(L),{class:"loading-icon"},{default:o(()=>[t(a(ve))]),_:1}),e[62]||(e[62]=r("span",null,"加载中...",-1))])):(i(),ae(a(me),{key:2,data:ze.value,stripe:"",style:{width:"100%"},class:"startup-table",border:"","highlight-current-row":""},{empty:o(()=>[r("div",Ul,[E.value||x.value?(i(),ae(a(L),{key:0},{default:o(()=>[t(a(te))]),_:1})):w("",!0),E.value||x.value?(i(),m("span",Al,"暂无匹配的定时任务，请尝试更改搜索条件")):(i(),m("span",El,"暂无定时任务数据"))])]),default:o(()=>[t(a(f),{prop:"id",label:"ID",width:"60",align:"center"}),t(a(f),{prop:"guiname",label:"应用名称","show-overflow-tooltip":""}),t(a(f),{prop:"sign",label:"应用标识","show-overflow-tooltip":""}),t(a(f),{prop:"main",label:"应用入口","show-overflow-tooltip":""}),t(a(f),{prop:"menuname",label:"菜单名称","show-overflow-tooltip":""}),t(a(f),{prop:"timedtype",label:"定时类型","show-overflow-tooltip":""}),t(a(f),{prop:"timedvalue",label:"定时值","show-overflow-tooltip":""}),t(a(f),{label:"已启用",align:"center"},{default:o(s=>[t(a(S),{modelValue:s.row.enabled,"onUpdate:modelValue":v=>s.row.enabled=v,onChange:v=>Ie(s.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(a(f),{label:"后台运行",align:"center"},{default:o(s=>[t(a(S),{modelValue:s.row.bkgrdstat,"onUpdate:modelValue":v=>s.row.bkgrdstat=v,onChange:v=>Le(s.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(a(f),{label:"结束关闭",align:"center"},{default:o(s=>[t(a(S),{modelValue:s.row.autoclose,"onUpdate:modelValue":v=>s.row.autoclose=v,onChange:v=>Me(s.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(a(f),{label:"操作",width:"180",align:"center"},{default:o(s=>[t(a(y),{size:"small",type:"primary",plain:"",onClick:v=>Be(s.row)},{default:o(()=>e[63]||(e[63]=[c(" 编辑 ")])),_:2},1032,["onClick"]),t(a(y),{size:"small",type:"danger",plain:"",onClick:v=>Re(s.row)},{default:o(()=>e[64]||(e[64]=[c(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),ee.value.length>I.value?(i(),m("div",xl,[t(a(fe),{"current-page":F.value,"onUpdate:currentPage":e[27]||(e[27]=s=>F.value=s),"page-size":I.value,"onUpdate:pageSize":e[28]||(e[28]=s=>I.value=s),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:ee.value.length,onSizeChange:De,onCurrentChange:Fe},null,8,["current-page","page-size","total"])])):w("",!0),t(a(se),{modelValue:P.value,"onUpdate:modelValue":e[40]||(e[40]=s=>P.value=s),title:"编辑定时任务",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:o(()=>[r("span",$l,[t(a(y),{onClick:e[39]||(e[39]=s=>P.value=!1)},{default:o(()=>e[66]||(e[66]=[c("取消")])),_:1}),t(a(y),{type:"primary",onClick:Pe},{default:o(()=>e[67]||(e[67]=[c("保存")])),_:1})])]),default:o(()=>[t(a(ge),{model:p.value,"label-width":"100px",rules:ye,ref_key:"timedFormRef",ref:ne,"status-icon":""},{default:o(()=>[t(a(g),{label:"应用名称",prop:"guiname"},{default:o(()=>[t(a(V),{modelValue:p.value.guiname,"onUpdate:modelValue":e[29]||(e[29]=s=>p.value.guiname=s),spellcheck:"false",placeholder:"请输入应用名称"},null,8,["modelValue"])]),_:1}),t(a(g),{label:"应用标识",prop:"sign"},{default:o(()=>[t(a(V),{modelValue:p.value.sign,"onUpdate:modelValue":e[30]||(e[30]=s=>p.value.sign=s),spellcheck:"false",placeholder:"请输入应用标识"},null,8,["modelValue"])]),_:1}),t(a(g),{label:"应用入口",prop:"main"},{default:o(()=>[t(a(V),{modelValue:p.value.main,"onUpdate:modelValue":e[31]||(e[31]=s=>p.value.main=s),spellcheck:"false",placeholder:"请输入应用入口路径"},null,8,["modelValue"])]),_:1}),t(a(g),{label:"菜单名称",prop:"menuname"},{default:o(()=>[t(a(V),{modelValue:p.value.menuname,"onUpdate:modelValue":e[32]||(e[32]=s=>p.value.menuname=s),spellcheck:"false",placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1}),t(a(g),{label:"定时类型",prop:"timedtype"},{default:o(()=>[t(a(re),{modelValue:p.value.timedtype,"onUpdate:modelValue":e[33]||(e[33]=s=>p.value.timedtype=s),placeholder:"请选择定时类型",clearable:""},{default:o(()=>[t(a(C),{label:"间隔(天)",value:"days"}),t(a(C),{label:"间隔(小时)",value:"hours"}),t(a(C),{label:"间隔(分钟)",value:"minutes"}),t(a(C),{label:"间隔(秒)",value:"seconds"}),t(a(C),{label:"每天几点",value:"daily"}),t(a(C),{label:"自定义",value:"custom"})]),_:1},8,["modelValue"])]),_:1}),t(a(g),{label:"定时值",prop:"timedvalue"},{default:o(()=>[t(a(V),{modelValue:p.value.timedvalue,"onUpdate:modelValue":e[34]||(e[34]=s=>p.value.timedvalue=s),spellcheck:"false",placeholder:"请输入定时值"},null,8,["modelValue"])]),_:1}),t(a(g),{label:"已启用"},{default:o(()=>[t(a(S),{modelValue:p.value.enabled,"onUpdate:modelValue":e[35]||(e[35]=s=>p.value.enabled=s)},null,8,["modelValue"])]),_:1}),t(a(g),{label:"后台运行"},{default:o(()=>[t(a(S),{modelValue:p.value.bkgrdstat,"onUpdate:modelValue":e[36]||(e[36]=s=>p.value.bkgrdstat=s),onChange:je},null,8,["modelValue"])]),_:1}),t(a(g),{label:"结束关闭"},{default:o(()=>[t(a(S),{modelValue:p.value.autoclose,"onUpdate:modelValue":e[37]||(e[37]=s=>p.value.autoclose=s)},null,8,["modelValue"])]),_:1}),t(a(g),{label:"应用参数",prop:"formdata"},{default:o(()=>[t(a(V),{modelValue:N.value,"onUpdate:modelValue":e[38]||(e[38]=s=>N.value=s),type:"textarea",spellcheck:"false",rows:5,placeholder:"请输入JSON格式的应用参数",class:be({"is-invalid":O.value})},null,8,["modelValue","class"]),O.value?(i(),m("div",Tl,T(O.value),1)):w("",!0),e[65]||(e[65]=r("div",{class:"formdata-tips"},[r("small",null,'JSON格式，例如: {"key": "value", "setting": true}')],-1))]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),t(a(se),{modelValue:q.value,"onUpdate:modelValue":e[42]||(e[42]=s=>q.value=s),title:"确认删除",width:"30%",center:""},{footer:o(()=>[r("span",zl,[t(a(y),{onClick:e[41]||(e[41]=s=>q.value=!1)},{default:o(()=>e[68]||(e[68]=[c("取消")])),_:1}),t(a(y),{type:"danger",onClick:Qe},{default:o(()=>e[69]||(e[69]=[c("确认删除")])),_:1})])]),default:o(()=>{var s;return[r("span",null,'确定要删除定时任务 "'+T((s=R.value)==null?void 0:s.guiname)+'" 吗？',1)]}),_:1},8,["modelValue"])])):w("",!0),h.value==="helpCenter"?(i(),m("div",Nl,[e[70]||(e[70]=r("h2",null,"常见问题",-1)),e[71]||(e[71]=r("div",{class:"macos-divider"},null,-1)),r("div",Ol,[(i(!0),m(We,null,Xe(a(K).ASKED_QUESTIONS,(s,v)=>(i(),m("div",{key:v,class:"faq-item"},[r("div",Dl,[r("strong",null,"问："+T(s.question),1)]),r("div",Fl,"答："+T(s.answer),1)]))),128)),!a(K).ASKED_QUESTIONS||a(K).ASKED_QUESTIONS.length===0?(i(),m("div",_l," 暂无常见问题 ")):w("",!0)])])):w("",!0),h.value==="about"?(i(),m("div",ql,[e[72]||(e[72]=r("h2",null,"关于我们",-1)),r("div",{innerHTML:a(K).ABOUTUS},null,8,Jl)])):w("",!0)])])])]))}},Bl=Ke(Il,[["__scopeId","data-v-23c6a455"]]);export{Bl as default};
