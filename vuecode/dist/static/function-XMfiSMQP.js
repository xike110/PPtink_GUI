import{_ as Oe,r as u,c as Y,R as je,o as Je,a4 as qe,a3 as Ke,w as We,b as n,e,g as v,d as Ce,f as ze,p as m,t as r,T as He,a5 as se,i as g,v as $,a6 as $e,F as A,l as j,j as oe,y as P,A as z,a7 as Ae,u as Ge,k as Qe,s as xe,x as a}from"./zh-cn-Vbf23Fjh.js";import{a as Ye}from"./main-DhXTod4p.js";const Xe={class:"macos-window"},Ze={class:"content-area"},el={class:"section-container"},ll={class:"categories-section"},tl={class:"modal-content"},sl={class:"modal-body"},ol={class:"steps-nav"},nl={key:0,class:"step-content"},al={class:"app-types"},il={key:1,class:"step-content"},ul={class:"step-title"},rl={key:0,class:"form-content"},cl={class:"form-group file-select-group"},vl={class:"file-select-container"},dl={key:0,class:"file-info-preview"},pl={class:"form-group"},fl={class:"form-group"},ml={class:"form-group"},gl={class:"category-select-container"},yl=["value"],wl={key:1,class:"new-category-input"},bl={class:"app-icon-preview"},_l=["src"],kl={key:1,class:"form-content"},hl={class:"form-group"},Cl={class:"link-input-container"},$l=["disabled"],Al={key:0,class:"website-info-preview"},xl={class:"form-group"},Sl={class:"form-group"},Dl={class:"form-group"},Nl={class:"category-select-container"},Vl=["value"],Tl={key:1,class:"new-category-input"},Ll={class:"app-icon-preview"},Ul=["src"],Pl={key:1,class:"link-validation-reminder"},El={key:2,class:"step-content"},Ml={class:"app-confirm"},Fl={class:"app-confirm-preview"},Rl=["src","alt"],Bl={class:"app-info"},Il=["title"],Ol={class:"app-category"},jl=["title"],Jl={class:"app-confirm-details"},ql={class:"confirm-detail-options"},Kl={class:"debug-info"},Wl={class:"step-buttons"},zl=["disabled"],Hl={class:"section-header"},Gl={class:"search-bar-container"},Ql={class:"search-bar"},Yl={class:"search-results"},Xl=["src","alt"],Zl={class:"result-app-info"},et={class:"result-app-name"},lt={class:"result-app-description"},tt=["onClick"],st={class:"create-app-dropdown"},ot={key:0,class:"dropdown-menu"},nt={class:"category-tabs"},at=["onClick"],it=["onClick"],ut=["src","alt"],rt={class:"app-info"},ct=["title"],vt={class:"app-category"},dt=["title"],pt=["onClick"],ft=["onClick"],mt=["src","alt"],gt={class:"app-info"},yt=["title"],wt={class:"app-category"},bt=["title"],_t=["onClick"],kt={class:"modal-content delete-app-modal"},ht={class:"modal-body"},Ct={class:"steps-nav"},$t={key:0,class:"step-content"},At={class:"search-container"},xt=["disabled"],St={key:0,class:"search-error"},Dt={key:1,class:"step-content"},Nt={class:"delete-app-intro"},Vt={key:0,class:"app-delete-list"},Tt=["onClick"],Lt=["src","alt"],Ut={class:"app-info"},Pt=["title"],Et={class:"app-category"},Mt=["title"],Ft={key:1,class:"no-apps-message"},Rt={key:2,class:"delete-app-warning"},Bt={class:"modal-footer"},It={key:0},Ot=["disabled"],jt={key:1,class:"step2-buttons"},Jt=["disabled"],qt={__name:"function",setup(Kt){const w=je("appConfig"),x=u("all"),ne=u(!1),me=u(""),ge=u("info"),p=u([]),E=u(""),M=u(!1);let X=null;const ye=Y(()=>{const s=E.value.trim().toLowerCase();return s?p.value&&p.value.length>0?p.value.filter(l=>l.isview!==!1&&(l.name.toLowerCase().includes(s)||l.description.toLowerCase().includes(s))):[]:[]}),Se=()=>{E.value.trim()?(M.value=!0,ae(),console.log("æœç´¢å†…å®¹æ›´æ–°:",E.value)):M.value=!1},De=()=>{X=setTimeout(()=>{M.value=!1},200)},ae=()=>{X&&(clearTimeout(X),X=null)},we=()=>{E.value.trim()?(console.log("æœç´¢å†…å®¹:",E.value),M.value=!0,ae()):(console.log("æœç´¢å†…å®¹ä¸ºç©º"),M.value=!1)},Z=u(15),ee=u(20),ie=Y(()=>w&&w.value&&w.value.NEWLINE?w.value.NEWLINE:2),S=(s,l)=>s?s.length>l?s.substring(0,l)+"...":s:"",C=u(!1),ue=u(!1),c=u(1),d=u(""),le=u(!1),F=u(!1),D=u(""),N=u(!1),J=u(!1),V=u(!1),y=u(""),re=u(!1),ce=u([]),k=u(null),H=u(!1),b=u(1),T=u(""),R=u([]),B=u(""),be=Y(()=>{if(c.value===1)return d.value!=="";if(c.value===2){if(d.value==="external")return o.value.open&&o.value.name&&o.value.category;if(d.value==="link")return o.value.open&&o.value.name&&o.value.category&&J.value}else if(c.value===3)return!0;return!1}),o=u({name:"",category:"",description:"",icon:"./ico/demo1.png",bgcolor:"#e6f7ff",type:"",open:"",recommend:!1,isview:!0,belongs:!1});Je(()=>{window.addEventListener("refresh_apps",G)}),qe(()=>{window.removeEventListener("refresh_apps",G),window.removeEventListener("click",ke)});function G(){console.log("æ¥æ”¶åˆ°åˆ·æ–°åº”ç”¨åˆ—è¡¨äº‹ä»¶"),window.pywebview&&pywebview.api.get_config().then(s=>{s&&s.APPS&&(p.value=s.APPS,console.log("åº”ç”¨åˆ—è¡¨å·²åˆ·æ–°",p.value),w&&w.value&&(w.value.APPS=s.APPS))}).catch(s=>{console.error("åˆ·æ–°åº”ç”¨åˆ—è¡¨å¤±è´¥:",s)})}function _e(s){d.value=s,o.value={name:"",category:"",description:"",icon:"./ico/demo1.png",bgcolor:"#e6f7ff",type:s,open:"",recommend:!1,isview:!0,belongs:!1}}function Ne(){if(!o.value.open||o.value.open.trim()===""){D.value="è¯·è¾“å…¥URLåœ°å€",N.value=!1;return}F.value=!0,D.value="æ­£åœ¨éªŒè¯é“¾æ¥å¹¶è·å–ç½‘ç«™ä¿¡æ¯...",N.value=!1,J.value=!1,console.log("éªŒè¯é“¾æ¥:",o.value.open),window.pywebview&&(pywebview.api.log("info",`éªŒè¯é“¾æ¥: ${o.value.open}`),pywebview.api.get_website_info(o.value.open).then(s=>{F.value=!1,s.success?(console.log("è·å–ç½‘ç«™ä¿¡æ¯æˆåŠŸ:",s),o.value.name=s.title,o.value.description=s.description,o.value.icon=s.icon_path,D.value="é“¾æ¥æœ‰æ•ˆï¼Œå·²è·å–ç½‘ç«™ä¿¡æ¯",N.value=!0,J.value=!0,i(`å·²æˆåŠŸè·å–ç½‘ç«™ ${s.title} çš„ä¿¡æ¯`,"info")):(console.log("è·å–ç½‘ç«™ä¿¡æ¯å¤±è´¥:",s.message),D.value=`éªŒè¯å¤±è´¥: ${s.message}`,N.value=!1,i(`éªŒè¯é“¾æ¥å¤±è´¥: ${s.message}`,"error"))}).catch(s=>{F.value=!1,D.value=`éªŒè¯å‡ºé”™: ${s}`,N.value=!1,console.error("éªŒè¯é“¾æ¥å‡ºé”™:",s),i(`éªŒè¯å‡ºé”™: ${s}`,"error")}))}function Ve(){be.value&&c.value<3&&(c.value===2&&(d.value==="external"||d.value==="link")&&(o.value.type=d.value,console.log(`å‡†å¤‡è¿›å…¥ç¡®è®¤æ­¥éª¤: ç±»å‹=${d.value}, åç§°=${o.value.name}`)),c.value++,console.log(`å½“å‰æ­¥éª¤: ${c.value}, åº”ç”¨ç±»å‹: ${o.value.type}`),c.value===3&&(!o.value.type&&d.value&&(o.value.type=d.value,console.log(`åœ¨ç¬¬ä¸‰æ­¥é‡æ–°è®¾ç½®type=${o.value.type}`)),console.log("ç¬¬ä¸‰æ­¥ç¡®è®¤æ•°æ®:",JSON.stringify(o.value))))}function Te(){c.value>1&&c.value--}function Le(){le.value||(le.value=!0,console.log("æ‰“å¼€æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†"),window.pywebview&&(pywebview.api.log("info","ç”¨æˆ·ç‚¹å‡»æ–‡ä»¶é€‰æ‹©æŒ‰é’®"),pywebview.api.select_file().then(s=>{if(le.value=!1,s.success){console.log("æ–‡ä»¶é€‰æ‹©æˆåŠŸ:",s);const l=s.file_info;l&&l.success?(o.value.open=s.file_path,o.value.name=l.name,o.value.description=l.description,o.value.icon=l.icon_path,i(`å·²é€‰æ‹©æ–‡ä»¶: ${l.name}`,"info")):i(`è·å–æ–‡ä»¶ä¿¡æ¯å¤±è´¥: ${(l==null?void 0:l.message)||"æœªçŸ¥é”™è¯¯"}`,"error")}else console.log("æ–‡ä»¶é€‰æ‹©å–æ¶ˆæˆ–å¤±è´¥:",s.message),s.message!=="æœªé€‰æ‹©æ–‡ä»¶"&&i(`é€‰æ‹©æ–‡ä»¶å¤±è´¥: ${s.message}`,"warning")}).catch(s=>{le.value=!1,console.error("æ–‡ä»¶é€‰æ‹©å‡ºé”™:",s),i(`æ–‡ä»¶é€‰æ‹©é”™è¯¯: ${s}`,"error")})))}const L=Y(()=>{const s=new Set;return p.value.forEach(l=>{l&&l.category&&l.isview&&s.add(l.category)}),Array.from(s)}),Ue=Y(()=>x.value==="all"?p.value:p.value.filter(s=>s.category===x.value));Ke(()=>{w&&w.value&&w.value.APPS&&Array.isArray(w.value.APPS)&&(p.value=w.value.APPS,console.log("home.vue å·²æ›´æ–° APPS æ•°æ®",p.value),xe(()=>{L.value.length>0&&(x.value="all")}))});function Pe(){C.value=!C.value}function ke(s){C.value&&!s.target.closest(".create-app-dropdown")&&(C.value=!1)}window.addEventListener("click",ke);function Ee(){if(console.log("ç‚¹å‡»äº†åˆ é™¤è½¯ä»¶é€‰é¡¹"),window.pywebview){if(pywebview.api.log("info","ç”¨æˆ·ç‚¹å‡»äº†åˆ é™¤è½¯ä»¶é€‰é¡¹"),ce.value=p.value.filter(s=>s.belongs===!1),ce.value.length===0){i("æ²¡æœ‰å¯åˆ é™¤çš„ç”¨æˆ·æ·»åŠ åº”ç”¨","warning"),C.value=!1;return}b.value=1,T.value="",R.value=[],k.value=null,B.value="",re.value=!0}C.value=!1}function ve(){if(T.value.trim()===""){B.value="è¯·è¾“å…¥æœç´¢å…³é”®å­—";return}B.value="";const s=T.value.toLowerCase().trim();if(R.value=ce.value.filter(l=>l.name.toLowerCase().includes(s)||l.description.toLowerCase().includes(s)||l.category.toLowerCase().includes(s)),R.value.length===0){B.value="æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„åº”ç”¨";return}b.value=2}function Q(){re.value=!1,b.value=1,k.value=null,T.value="",R.value=[],B.value=""}function Me(){if(!k.value){i("è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„åº”ç”¨","warning");return}H.value=!0,console.log("æ­£åœ¨åˆ é™¤åº”ç”¨:",k.value.name),window.pywebview&&pywebview.api.delete_app(k.value.name).then(s=>{H.value=!1,s.success?(i(`å·²æˆåŠŸåˆ é™¤åº”ç”¨: ${k.value.name}`,"info"),Q(),G()):i(`åˆ é™¤åº”ç”¨å¤±è´¥: ${s.message}`,"error")}).catch(s=>{H.value=!1,console.error("åˆ é™¤åº”ç”¨å‡ºé”™:",s),i(`åˆ é™¤åº”ç”¨å‡ºé”™: ${s}`,"error")})}function Fe(){if(console.log("ç‚¹å‡»äº†å¯¼å…¥å¤‡ä»½é€‰é¡¹"),window.pywebview){pywebview.api.log("info","ç”¨æˆ·ç‚¹å‡»äº†å¯¼å…¥å¤‡ä»½é€‰é¡¹"),i("å‡†å¤‡å¯¼å…¥åº”ç”¨å¤‡ä»½","info");const s=document.createElement("input");s.type="file",s.accept=".json",s.style.display="none",document.body.appendChild(s),s.addEventListener("change",function(l){const t=l.target.files[0];if(!t){i("æœªé€‰æ‹©æ–‡ä»¶","warning"),document.body.removeChild(s);return}const f=new FileReader;f.onload=function(pe){try{let W=function(h){if(h>=K.length){i(`æˆåŠŸå¯¼å…¥ ${I} ä¸ªåº”ç”¨`,"info"),G(),document.body.removeChild(s);return}const U=K[h];U.belongs=!1,fe.some(O=>O.name===U.name||O.open===U.open)?(console.log(`åº”ç”¨ ${U.name} å·²å­˜åœ¨ï¼Œè·³è¿‡å¯¼å…¥`),W(h+1)):pywebview.api.save_app(U).then(O=>{O.success?(I++,console.log(`æˆåŠŸå¯¼å…¥åº”ç”¨: ${U.name}`)):console.error(`å¯¼å…¥åº”ç”¨ ${U.name} å¤±è´¥:`,O.message),W(h+1)}).catch(O=>{console.error(`å¯¼å…¥åº”ç”¨ ${U.name} å¤±è´¥:`,O),W(h+1)})};const _=pe.target.result,K=JSON.parse(_);if(!Array.isArray(K)||K.length===0){i("å¯¼å…¥çš„æ–‡ä»¶æ ¼å¼æ— æ•ˆæˆ–ä¸ºç©º","error"),document.body.removeChild(s);return}const fe=w.value.APPS||[];let I=0;W(0)}catch(_){console.error("è§£ææ–‡ä»¶å¤±è´¥:",_),i(`è§£ææ–‡ä»¶å¤±è´¥: ${_.message}`,"error"),document.body.removeChild(s)}},f.onerror=function(){console.error("è¯»å–æ–‡ä»¶å‡ºé”™"),i("è¯»å–æ–‡ä»¶å‡ºé”™","error"),document.body.removeChild(s)},f.readAsText(t)}),s.click()}C.value=!1}function Re(){if(console.log("ç‚¹å‡»äº†å¯¼å‡ºå¤‡ä»½é€‰é¡¹"),window.pywebview){pywebview.api.log("info","ç”¨æˆ·ç‚¹å‡»äº†å¯¼å‡ºå¤‡ä»½é€‰é¡¹");const s=p.value.filter(_=>_.belongs===!1);if(s.length===0){i("æ²¡æœ‰å¯å¯¼å‡ºçš„ç”¨æˆ·æ·»åŠ åº”ç”¨","warning"),C.value=!1;return}const l=new Date,f=`app_backup_${l.getFullYear()+("0"+(l.getMonth()+1)).slice(-2)+("0"+l.getDate()).slice(-2)+("0"+l.getHours()).slice(-2)+("0"+l.getMinutes()).slice(-2)+("0"+l.getSeconds()).slice(-2)}.json`,pe=JSON.stringify(s,null,2);pywebview.api.open_directory_dialog().then(_=>{if(_==="æœªé€‰æ‹©ç›®å½•"){i("å·²å–æ¶ˆå¯¼å‡º","warning");return}const K=_+(_.endsWith("\\")?"":"\\")+f,fe=new Blob([pe],{type:"application/json"}),I=new FileReader;I.onload=function(){const W=I.result.split(",")[1];pywebview.api.save_exported_apps(K,W).then(h=>{h.success?i(`å·²æˆåŠŸå¯¼å‡º ${s.length} ä¸ªåº”ç”¨åˆ° ${h.path}`,"info"):i(`å¯¼å‡ºå¤±è´¥: ${h.message}`,"error")}).catch(h=>{console.error("ä¿å­˜æ–‡ä»¶å‡ºé”™:",h),i(`ä¿å­˜æ–‡ä»¶å‡ºé”™: ${h}`,"error")})},I.onerror=function(){i("è¯»å–æ•°æ®å‡ºé”™","error")},I.readAsDataURL(fe)}).catch(_=>{console.error("æ‰“å¼€ç›®å½•å¯¹è¯æ¡†å‡ºé”™:",_),i(`æ‰“å¼€ç›®å½•å¯¹è¯æ¡†å‡ºé”™: ${_}`,"error")})}C.value=!1}function Be(){console.log("ç‚¹å‡»äº†æ·»åŠ åº”ç”¨æŒ‰é’®"),window.pywebview&&(pywebview.api.log("info","ç”¨æˆ·ç‚¹å‡»äº†æ·»åŠ åº”ç”¨æŒ‰é’®"),d.value="",c.value=1,V.value=!1,y.value="",o.value={name:"",category:"",description:"",icon:"./ico/demo1.png",bgcolor:"#e6f7ff",type:"",open:"",recommend:!1,isview:!0,belongs:!1},F.value=!1,D.value="",N.value=!1,J.value=!1,ue.value=!0)}function de(){ue.value=!1}function Ie(){if(console.log("æäº¤åº”ç”¨è¡¨å•å¼€å§‹æ‰§è¡Œ:",JSON.stringify(o.value)),console.log("å½“å‰æ­¥éª¤:",c.value),console.log("åº”ç”¨ç±»å‹:",d.value),!o.value.type&&d.value&&(o.value.type=d.value,console.log(`åœ¨æäº¤å‰è®¾ç½®type=${o.value.type}`)),window.pywebview){const s=p.value.some(t=>t.name===o.value.name),l=p.value.some(t=>t.open===o.value.open);if(s){i(`åº”ç”¨åç§° "${o.value.name}" å·²å­˜åœ¨ï¼Œè¯·ä½¿ç”¨å…¶ä»–åç§°`,"error");return}if(l){i(`åº”ç”¨è·¯å¾„æˆ–é“¾æ¥ "${o.value.open}" å·²å­˜åœ¨`,"error");return}pywebview.api.log("info",`æäº¤åº”ç”¨è¡¨å•: ${o.value.name}, ç±»å‹: ${o.value.type}`),pywebview.api.save_app(o.value).then(t=>{console.log("ä¿å­˜åº”ç”¨ç»“æœ:",t),t.success?(i(`åº”ç”¨ ${o.value.name} æ·»åŠ æˆåŠŸ`,"info"),de(),G()):i(`æ·»åŠ å¤±è´¥: ${t.message}`,"error")}).catch(t=>{console.error("ä¿å­˜åº”ç”¨å‡ºé”™:",t),i(`ä¿å­˜å‡ºé”™: ${t}`,"error")})}else console.error("pywebview ä¸å¯ç”¨ï¼Œæ— æ³•æäº¤è¡¨å•")}We(()=>o.value.category,s=>{if(s==="__new__"){if(L.value.length>=12){i("åˆ†ç±»ä¸èƒ½è¶…è¿‡12ä¸ª","warning"),o.value.category="";return}V.value=!0,o.value.category=""}});function te(){if(y.value.trim()===""){i("åˆ†ç±»åç§°ä¸èƒ½ä¸ºç©º","warning");return}if(L.value.length>=12){i("åˆ†ç±»ä¸èƒ½è¶…è¿‡12ä¸ª","warning"),V.value=!1,y.value="",o.value.category="";return}if(L.value.includes(y.value.trim())){i(`åˆ†ç±» "${y.value}" å·²å­˜åœ¨`,"warning"),o.value.category=y.value.trim(),V.value=!1,y.value="";return}const s=y.value.trim();o.value.category=s,V.value=!1;const l={name:`temp_${Date.now()}`,category:s,isview:!0,description:""};p.value.push(l),xe(()=>{console.log(`æ–°åˆ†ç±»å·²æ·»åŠ : ${s}`),console.log(`å½“å‰æ‰€æœ‰åˆ†ç±»: ${JSON.stringify(Array.from(L.value))}`)}),y.value="",i(`å·²åˆ›å»ºæ–°åˆ†ç±»: ${s}`,"info")}function he(){V.value=!1,y.value="",o.value.category=""}const i=(s,l="info",t=3e3)=>{me.value=s,ge.value=l,ne.value=!0,setTimeout(()=>{ne.value=!1},t)},q=s=>{console.log("å¯åŠ¨åº”ç”¨ç¨‹åº:",s.name),pywebview.api.log("info",`å¯åŠ¨åº”ç”¨ç¨‹åº: ${s.name}`),pywebview.api.run_app(s).then(l=>{let t="info",f=`æ­£åœ¨å¯åŠ¨: ${s.name}`;l||(t="error",f=`å¯åŠ¨å¤±è´¥: ${s.name}`),i(f,t)}).catch(l=>{console.error("å¯åŠ¨åº”ç”¨å‡ºé”™:",l),i(`å¯åŠ¨å‡ºé”™: ${s.name}`,"error")})};return(s,l)=>(a(),n(A,null,[e("div",Xe,[e("div",Ze,[e("div",el,[e("div",ll,[Ce(He,{name:"fade"},{default:ze(()=>[ne.value?(a(),n("div",{key:0,class:m(["message-popup",ge.value])},r(me.value),3)):v("",!0)]),_:1}),ue.value?(a(),n("div",{key:0,class:"modal-overlay",onClick:se(de,["self"])},[e("div",tl,[e("div",{class:"modal-header"},[l[20]||(l[20]=e("h2",null,"æ·»åŠ æ–°åº”ç”¨",-1)),e("button",{class:"close-button",onClick:de},"Ã—")]),e("div",sl,[e("div",ol,[e("div",{class:m(["step",{active:c.value===1,completed:c.value>1}])},l[21]||(l[21]=[e("div",{class:"step-number"},"1",-1),e("div",{class:"step-text"},"é€‰æ‹©ç±»å‹",-1)]),2),e("div",{class:m(["step-line",{active:c.value>1}])},null,2),e("div",{class:m(["step",{active:c.value===2,completed:c.value>2}])},l[22]||(l[22]=[e("div",{class:"step-number"},"2",-1),e("div",{class:"step-text"},"åº”ç”¨ä¿¡æ¯",-1)]),2),e("div",{class:m(["step-line",{active:c.value>2}])},null,2),e("div",{class:m(["step",{active:c.value===3,completed:c.value>3}])},l[23]||(l[23]=[e("div",{class:"step-number"},"3",-1),e("div",{class:"step-text"},"ç¡®è®¤æ·»åŠ ",-1)]),2)]),c.value===1?(a(),n("div",nl,[l[26]||(l[26]=e("h3",{class:"step-title"},"é€‰æ‹©åº”ç”¨ç±»å‹",-1)),e("div",al,[e("div",{class:m(["app-type-card",{selected:d.value==="external"}]),onClick:l[0]||(l[0]=t=>_e("external"))},l[24]||(l[24]=[e("div",{class:"app-type-icon"},[e("i",{class:"icon-app"},"ğŸ“")],-1),e("div",{class:"app-type-name"},"å¤–éƒ¨è½¯ä»¶",-1),e("div",{class:"app-type-desc"}," é€‰æ‹©æœ¬åœ°è®¡ç®—æœºä¸Šçš„å¯æ‰§è¡Œæ–‡ä»¶ ",-1)]),2),e("div",{class:m(["app-type-card",{selected:d.value==="link"}]),onClick:l[1]||(l[1]=t=>_e("link"))},l[25]||(l[25]=[e("div",{class:"app-type-icon"},[e("i",{class:"icon-link"},"ğŸ”—")],-1),e("div",{class:"app-type-name"},"å¤–éƒ¨é“¾æ¥",-1),e("div",{class:"app-type-desc"}," æ·»åŠ ç½‘ç«™é“¾æ¥ï¼Œé€šè¿‡æµè§ˆå™¨æ‰“å¼€ ",-1)]),2)])])):v("",!0),c.value===2?(a(),n("div",il,[e("h3",ul,r(d.value==="external"?"å¤–éƒ¨è½¯ä»¶ä¿¡æ¯":"é“¾æ¥ä¿¡æ¯"),1),d.value==="external"?(a(),n("div",rl,[e("div",cl,[l[27]||(l[27]=e("label",null,"é€‰æ‹©è½¯ä»¶æ–‡ä»¶",-1)),e("div",vl,[g(e("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=t=>o.value.open=t),readonly:"",placeholder:"è¯·é€‰æ‹©è½¯ä»¶å¯æ‰§è¡Œæ–‡ä»¶"},null,512),[[$,o.value.open]]),e("button",{onClick:Le,class:"file-select-button"}," æµè§ˆ... ")])]),o.value.open?(a(),n("div",dl,[e("div",pl,[l[28]||(l[28]=e("label",{for:"appName"},"åº”ç”¨åç§°",-1)),g(e("input",{type:"text",id:"appName","onUpdate:modelValue":l[3]||(l[3]=t=>o.value.name=t)},null,512),[[$,o.value.name]])]),e("div",fl,[l[29]||(l[29]=e("label",{for:"appDescription"},"åº”ç”¨æè¿°",-1)),g(e("input",{type:"text",id:"appDescription","onUpdate:modelValue":l[4]||(l[4]=t=>o.value.description=t)},null,512),[[$,o.value.description]])]),e("div",ml,[l[32]||(l[32]=e("label",{for:"appCategory"},"åº”ç”¨åˆ†ç±»",-1)),e("div",gl,[V.value?(a(),n("div",wl,[g(e("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=t=>y.value=t),placeholder:"è¯·è¾“å…¥æ–°åˆ†ç±»åç§°(æœ€å¤š8ä¸ªå­—ç¬¦)",maxlength:"8",onKeydown:oe(te,["enter"])},null,544),[[$,y.value]]),e("div",{class:"new-category-actions"},[e("button",{type:"button",class:"confirm-new-cat",onClick:te}," ç¡®è®¤ "),e("button",{type:"button",class:"cancel-new-cat",onClick:he}," å–æ¶ˆ ")])])):g((a(),n("select",{key:0,"onUpdate:modelValue":l[5]||(l[5]=t=>o.value.category=t),class:"category-select"},[l[30]||(l[30]=e("option",{value:"",disabled:""},"-- è¯·é€‰æ‹©åˆ†ç±» --",-1)),(a(!0),n(A,null,j(L.value,t=>(a(),n("option",{key:t,value:t},r(t),9,yl))),128)),l[31]||(l[31]=e("option",{value:"__new__"},"+ åˆ›å»ºæ–°åˆ†ç±»",-1))],512)),[[$e,o.value.category]])])]),e("div",bl,[l[33]||(l[33]=e("label",null,"åº”ç”¨å›¾æ ‡",-1)),e("div",{class:"icon-preview",style:P({backgroundColor:o.value.bgcolor})},[e("img",{src:o.value.icon,alt:"åº”ç”¨å›¾æ ‡"},null,8,_l)],4)])])):v("",!0)])):v("",!0),d.value==="link"?(a(),n("div",kl,[e("div",hl,[l[34]||(l[34]=e("label",{for:"linkUrl"},"é“¾æ¥åœ°å€",-1)),e("div",Cl,[g(e("input",{type:"url",id:"linkUrl","onUpdate:modelValue":l[7]||(l[7]=t=>o.value.open=t),placeholder:"è¯·è¾“å…¥å®Œæ•´URLï¼ˆå¦‚ https://www.example.comï¼‰",required:""},null,512),[[$,o.value.open]]),e("button",{onClick:Ne,class:"link-validate-button",disabled:F.value},r(F.value?"éªŒè¯ä¸­...":"éªŒè¯é“¾æ¥"),9,$l)]),D.value?(a(),n("small",{key:0,class:m({"validation-error":!N.value,"validation-success":N.value})},r(D.value),3)):v("",!0)]),J.value?(a(),n("div",Al,[e("div",xl,[l[35]||(l[35]=e("label",{for:"linkName"},"é“¾æ¥åç§°",-1)),g(e("input",{type:"text",id:"linkName","onUpdate:modelValue":l[8]||(l[8]=t=>o.value.name=t),required:""},null,512),[[$,o.value.name]])]),e("div",Sl,[l[36]||(l[36]=e("label",{for:"linkDescription"},"é“¾æ¥æè¿°",-1)),g(e("input",{type:"text",id:"linkDescription","onUpdate:modelValue":l[9]||(l[9]=t=>o.value.description=t),required:""},null,512),[[$,o.value.description]])]),e("div",Dl,[l[39]||(l[39]=e("label",{for:"linkCategory"},"é“¾æ¥åˆ†ç±»",-1)),e("div",Nl,[V.value?(a(),n("div",Tl,[g(e("input",{type:"text","onUpdate:modelValue":l[11]||(l[11]=t=>y.value=t),placeholder:"è¯·è¾“å…¥æ–°åˆ†ç±»åç§°(æœ€å¤š8ä¸ªå­—ç¬¦)",maxlength:"8",onKeydown:oe(te,["enter"])},null,544),[[$,y.value]]),e("div",{class:"new-category-actions"},[e("button",{type:"button",class:"confirm-new-cat",onClick:te}," ç¡®è®¤ "),e("button",{type:"button",class:"cancel-new-cat",onClick:he}," å–æ¶ˆ ")])])):g((a(),n("select",{key:0,"onUpdate:modelValue":l[10]||(l[10]=t=>o.value.category=t),class:"category-select"},[l[37]||(l[37]=e("option",{value:"",disabled:""},"-- è¯·é€‰æ‹©åˆ†ç±» --",-1)),(a(!0),n(A,null,j(L.value,t=>(a(),n("option",{key:t,value:t},r(t),9,Vl))),128)),l[38]||(l[38]=e("option",{value:"__new__"},"+ åˆ›å»ºæ–°åˆ†ç±»",-1))],512)),[[$e,o.value.category]])])]),e("div",Ll,[l[40]||(l[40]=e("label",null,"ç½‘ç«™å›¾æ ‡",-1)),e("div",{class:"icon-preview",style:P({backgroundColor:o.value.bgcolor})},[e("img",{src:o.value.icon,alt:"ç½‘ç«™å›¾æ ‡"},null,8,Ul)],4)])])):o.value.open&&!F.value&&!J.value?(a(),n("div",Pl,l[41]||(l[41]=[e("p",null,'è¯·ç‚¹å‡»"éªŒè¯é“¾æ¥"æŒ‰é’®è·å–ç½‘ç«™ä¿¡æ¯',-1)]))):v("",!0)])):v("",!0)])):v("",!0),c.value===3?(a(),n("div",El,[l[46]||(l[46]=e("h3",{class:"step-title"},"ç¡®è®¤æ·»åŠ ",-1)),e("div",Ml,[e("div",Fl,[e("div",{class:"app-item preview-item",onClick:l[12]||(l[12]=t=>q(o.value))},[e("div",{class:"app-icon",style:P({backgroundColor:o.value.bgcolor})},[e("img",{src:o.value.icon,alt:o.value.name},null,8,Rl)],4),e("div",Bl,[e("div",{class:"app-name",title:o.value.name},r(S(o.value.name,Z.value)),9,Il),e("div",Ol,r(o.value.category),1),e("div",{class:"app-description",title:o.value.description},r(S(o.value.description,ee.value)),9,jl)])])]),e("div",Jl,[e("div",ql,[e("label",null,[g(e("input",{type:"checkbox","onUpdate:modelValue":l[13]||(l[13]=t=>o.value.recommend=t)},null,512),[[Ae,o.value.recommend]]),l[42]||(l[42]=z(" è®¾ä¸ºæ¨èåº”ç”¨ "))]),e("label",null,[g(e("input",{type:"checkbox","onUpdate:modelValue":l[14]||(l[14]=t=>o.value.isview=t)},null,512),[[Ae,o.value.isview]]),l[43]||(l[43]=z(" æ˜¾ç¤ºåœ¨åº”ç”¨åˆ—è¡¨ä¸­ "))])]),e("div",Kl,[l[44]||(l[44]=e("h4",null,"å®Œæ•´æ•°æ®ä¿¡æ¯",-1)),e("pre",null,r(JSON.stringify(o.value,null,2)),1)]),e("div",{class:"direct-submit-container"},[e("button",{onClick:Ie,class:"direct-submit-button"},l[45]||(l[45]=[e("i",{class:"confirm-icon"},"âœ“",-1),z(" ç¡®è®¤æ·»åŠ åº”ç”¨ ")]))])])])])):v("",!0),e("div",Wl,[c.value>1?(a(),n("button",{key:0,class:"step-button prev-button",onClick:Te}," ä¸Šä¸€æ­¥ ")):v("",!0),c.value<3?(a(),n("button",{key:1,class:"step-button next-button",onClick:Ve,disabled:!be.value}," ä¸‹ä¸€æ­¥ ",8,zl)):v("",!0)])])])])):v("",!0),e("div",Hl,[e("div",Gl,[e("div",Ql,[Ce(Ge(Ye),{class:"search-icon"}),g(e("input",{"onUpdate:modelValue":l[15]||(l[15]=t=>E.value=t),type:"text",placeholder:"æœç´¢",onKeyup:oe(we,["enter"]),onInput:Se,onFocus:l[16]||(l[16]=t=>M.value=!0),onBlur:De},null,544),[[$,E.value]]),e("button",{class:"search-button",onClick:we},"æœ")]),g(e("div",Yl,[(a(!0),n(A,null,j(ye.value,t=>(a(),n("div",{key:t.name,class:"search-result-item",onMousedown:ae},[e("div",{class:"result-app-icon",style:P({backgroundColor:t.bgcolor})},[e("img",{src:t.icon,alt:t.name},null,8,Xl)],4),e("div",Zl,[e("div",et,r(t.name),1),e("div",lt,r(t.description),1)]),e("button",{class:"result-open-button",onClick:f=>q(t)}," å¯åŠ¨ ",8,tt)],32))),128))],512),[[Qe,M.value&&ye.value.length>0]])]),e("div",st,[e("button",{class:"create-app-button",onClick:Be},l[47]||(l[47]=[e("span",{class:"plus-icon"},"+",-1),z(" æ·»åŠ è½¯ä»¶ ")])),e("button",{class:"dropdown-toggle",onClick:Pe},l[48]||(l[48]=[e("span",{class:"arrow-down"},"â–¼",-1)])),C.value?(a(),n("div",ot,[e("div",{class:"dropdown-item",onClick:Ee},"åˆ é™¤è½¯ä»¶"),e("div",{class:"dropdown-item",onClick:Fe},"å¯¼å…¥å¤‡ä»½"),e("div",{class:"dropdown-item",onClick:Re},"å¯¼å‡ºå¤‡ä»½")])):v("",!0)])]),e("div",nt,[e("div",{class:m(["category-tab",{active:x.value==="all"}]),onClick:l[17]||(l[17]=t=>x.value="all")}," å…¨éƒ¨ ",2),(a(!0),n(A,null,j(L.value,t=>(a(),n("div",{key:t,class:m(["category-tab",{active:x.value===t}]),onClick:f=>x.value=t},r(t),11,at))),128))]),e("div",{class:"app-list",style:P({"grid-template-columns":`repeat(${ie.value}, 1fr)`})},[x.value==="all"?(a(!0),n(A,{key:0},j(p.value,t=>(a(),n(A,{key:t.name},[t&&t.isview===!0?(a(),n("div",{key:0,class:"app-item",onClick:f=>q(t)},[e("div",{class:"app-icon",style:P({backgroundColor:t.bgcolor})},[e("img",{src:t.icon,alt:t.name},null,8,ut)],4),e("div",rt,[e("div",{class:"app-name",title:t.name},r(S(t.name,Z.value)),9,ct),e("div",vt,r(t.category),1),e("div",{class:"app-description",title:t.description},r(S(t.description,ee.value)),9,dt)]),ie.value<4?(a(),n("button",{key:0,class:"open-button",onClick:se(f=>q(t),["stop"])}," å¯åŠ¨ ",8,pt)):v("",!0)],8,it)):v("",!0)],64))),128)):(a(!0),n(A,{key:1},j(Ue.value,t=>(a(),n("div",{class:"app-item",key:t.name,onClick:f=>q(t)},[e("div",{class:"app-icon",style:P({backgroundColor:t.bgcolor})},[e("img",{src:t.icon,alt:t.name},null,8,mt)],4),e("div",gt,[e("div",{class:"app-name",title:t.name},r(S(t.name,Z.value)),9,yt),e("div",wt,r(t.category),1),e("div",{class:"app-description",title:t.description},r(S(t.description,ee.value)),9,bt)]),ie.value<4?(a(),n("button",{key:0,class:"open-button",onClick:se(f=>q(t),["stop"])}," å¯åŠ¨ ",8,_t)):v("",!0)],8,ft))),128))],4)])])])]),re.value?(a(),n("div",{key:0,class:"modal-overlay",onClick:se(Q,["self"])},[e("div",kt,[e("div",{class:"modal-header"},[l[49]||(l[49]=e("h2",null,"åˆ é™¤åº”ç”¨",-1)),e("button",{class:"close-button",onClick:Q},"Ã—")]),e("div",ht,[e("div",Ct,[e("div",{class:m(["step",{active:b.value===1,completed:b.value>1}])},l[50]||(l[50]=[e("div",{class:"step-number"},"1",-1),e("div",{class:"step-text"},"æœç´¢åº”ç”¨",-1)]),2),e("div",{class:m(["step-line",{active:b.value>1}])},null,2),e("div",{class:m(["step",{active:b.value===2,completed:b.value>2}])},l[51]||(l[51]=[e("div",{class:"step-number"},"2",-1),e("div",{class:"step-text"},"é€‰æ‹©åˆ é™¤",-1)]),2)]),b.value===1?(a(),n("div",$t,[l[52]||(l[52]=e("p",{class:"delete-app-intro"},"è¯·è¾“å…¥åº”ç”¨åç§°è¿›è¡Œæœç´¢ï¼š",-1)),e("div",At,[g(e("input",{type:"text","onUpdate:modelValue":l[18]||(l[18]=t=>T.value=t),placeholder:"è¯·è¾“å…¥åº”ç”¨åç§°å…³é”®å­—",class:"search-input",onKeydown:oe(ve,["enter"])},null,544),[[$,T.value]]),e("button",{class:"search-button",onClick:ve,disabled:T.value.trim()===""}," æœç´¢ ",8,xt)]),B.value?(a(),n("div",St,r(B.value),1)):v("",!0)])):v("",!0),b.value===2?(a(),n("div",Dt,[e("p",Nt," æœç´¢ç»“æœ ("+r(R.value.length)+" ä¸ª)ï¼š ",1),R.value.length>0?(a(),n("div",Vt,[(a(!0),n(A,null,j(R.value,t=>(a(),n("div",{key:t.name,class:m(["app-delete-item",{selected:k.value&&k.value.name===t.name}]),onClick:f=>k.value=t},[e("div",{class:"app-icon",style:P({backgroundColor:t.bgcolor})},[e("img",{src:t.icon,alt:t.name},null,8,Lt)],4),e("div",Ut,[e("div",{class:"app-name",title:t.name},r(S(t.name,Z.value)),9,Pt),e("div",Et,r(t.category),1),e("div",{class:"app-description",title:t.description},r(S(t.description,ee.value)),9,Mt)])],10,Tt))),128))])):(a(),n("div",Ft,"æ‰¾ä¸åˆ°åŒ¹é…çš„åº”ç”¨")),k.value?(a(),n("div",Rt,[e("p",null,[l[53]||(l[53]=z(" âš ï¸ è­¦å‘Šï¼šåˆ é™¤æ“ä½œä¸å¯æ¢å¤ï¼Œè¯·ç¡®è®¤æ˜¯å¦åˆ é™¤ ")),e("strong",null,r(k.value.name),1),l[54]||(l[54]=z("ï¼Ÿ "))])])):v("",!0)])):v("",!0)]),e("div",Bt,[b.value===1?(a(),n("div",It,[e("button",{class:"cancel-button",onClick:Q}," å–æ¶ˆ "),e("button",{class:"search-submit-button",disabled:T.value.trim()==="",onClick:ve}," å¼€å§‹æœç´¢ ",8,Ot)])):v("",!0),b.value===2?(a(),n("div",jt,[e("button",{class:"back-button",onClick:l[19]||(l[19]=t=>b.value=1)}," è¿”å›æœç´¢ "),e("button",{class:"cancel-button",onClick:Q}," å–æ¶ˆ "),e("button",{class:"delete-button",disabled:!k.value||H.value,onClick:Me},r(H.value?"åˆ é™¤ä¸­...":"ç¡®è®¤åˆ é™¤"),9,Jt)])):v("",!0)])])])):v("",!0)],64))}},Gt=Oe(qt,[["__scopeId","data-v-1af218ec"]]);export{Gt as default};
